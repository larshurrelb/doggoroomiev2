(function(){const k=document.createElement("link").relList;if(k&&k.supports&&k.supports("modulepreload"))return;for(const X of document.querySelectorAll('link[rel="modulepreload"]'))j(X);new MutationObserver(X=>{for(const we of X)if(we.type==="childList")for(const de of we.addedNodes)de.tagName==="LINK"&&de.rel==="modulepreload"&&j(de)}).observe(document,{childList:!0,subtree:!0});function A(X){const we={};return X.integrity&&(we.integrity=X.integrity),X.referrerPolicy&&(we.referrerPolicy=X.referrerPolicy),X.crossOrigin==="use-credentials"?we.credentials="include":X.crossOrigin==="anonymous"?we.credentials="omit":we.credentials="same-origin",we}function j(X){if(X.ep)return;X.ep=!0;const we=A(X);fetch(X.href,we)}})();var En={exports:{}},Si=En.exports,qr;function ji(){return qr||(qr=1,(function(N,k){(function(j,X){N.exports=X()})(Si,()=>(()=>{var A=[,((de,ne,G)=>{G.r(ne),G.d(ne,{default:()=>oe});var H=(()=>{var ae=typeof document<"u"?document.currentScript?.src:void 0;return(function(x={}){var $,h=x,Oe,Re,he=new Promise((e,t)=>{Oe=e,Re=t}),se=typeof window=="object",Ee=typeof importScripts=="function";function ce(){function e(c){const f=o;r=t=0,o=new Map,f.forEach(m=>{try{m(c)}catch(v){console.error(v)}}),this.nb(),s&&s.Pb()}let t=0,r=0,o=new Map,s=null,l=null;this.requestAnimationFrame=function(c){t||=requestAnimationFrame(e.bind(this));const f=++r;return o.set(f,c),f},this.cancelAnimationFrame=function(c){o.delete(c),t&&o.size==0&&(cancelAnimationFrame(t),t=0)},this.Nb=function(c){l&&(document.body.remove(l),l=null),c||(l=document.createElement("div"),l.style.backgroundColor="black",l.style.position="fixed",l.style.right=0,l.style.top=0,l.style.color="white",l.style.padding="4px",l.innerHTML="RIVE FPS",c=function(f){l.innerHTML="RIVE FPS "+f.toFixed(1)},document.body.appendChild(l)),s=new function(){let f=0,m=0;this.Pb=function(){var v=performance.now();m?(++f,v-=m,1e3<v&&(c(1e3*f/v),f=m=0)):(m=v,f=0)}}},this.Kb=function(){l&&(document.body.remove(l),l=null),s=null},this.nb=function(){}}function _e(e){console.assert(!0);const t=new Map;let r=-1/0;this.push=function(o){return o=o+((1<<e)-1)>>e,t.has(o)&&clearTimeout(t.get(o)),t.set(o,setTimeout(function(){t.delete(o),t.length==0?r=-1/0:o==r&&(r=Math.max(...t.keys()),console.assert(r<o))},1e3)),r=Math.max(o,r),r<<e}}const ke=h.onRuntimeInitialized;h.onRuntimeInitialized=function(){ke&&ke();let e=h.decodeAudio;h.decodeAudio=function(s,l){s=e(s),l(s)};let t=h.decodeFont;h.decodeFont=function(s,l){s=t(s),l(s)};const r=h.FileAssetLoader;h.ptrToAsset=s=>{let l=h.ptrToFileAsset(s);return l.isImage?h.ptrToImageAsset(s):l.isFont?h.ptrToFontAsset(s):l.isAudio?h.ptrToAudioAsset(s):l},h.CustomFileAssetLoader=r.extend("CustomFileAssetLoader",{__construct:function({loadContents:s}){this.__parent.__construct.call(this),this.Db=s},loadContents:function(s,l){return s=h.ptrToAsset(s),this.Db(s,l)}}),h.CDNFileAssetLoader=r.extend("CDNFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this)},loadContents:function(s){let l=h.ptrToAsset(s);return s=l.cdnUuid,s===""?!1:((function(c,f){var m=new XMLHttpRequest;m.responseType="arraybuffer",m.onreadystatechange=function(){m.readyState==4&&m.status==200&&f(m)},m.open("GET",c,!0),m.send(null)})(l.cdnBaseUrl+"/"+s,c=>{l.decode(new Uint8Array(c.response))}),!0)}}),h.FallbackFileAssetLoader=r.extend("FallbackFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this),this.jb=[]},addLoader:function(s){this.jb.push(s)},loadContents:function(s,l){for(let c of this.jb)if(c.loadContents(s,l))return!0;return!1}});let o=h.computeAlignment;h.computeAlignment=function(s,l,c,f,m=1){return o.call(this,s,l,c,f,m)}};const Ge="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),Ke=new function(){function e(){if(!t){let ve=function(R,ee,ge){if(ee=C.createShader(ee),C.shaderSource(ee,ge),C.compileShader(ee),ge=C.getShaderInfoLog(ee),0<(ge||"").length)throw ge;C.attachShader(R,ee)};var M=ve,p=document.createElement("canvas"),_={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let C;if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){if(C=p.getContext("webgl",_),r=1,!C)return console.log("No WebGL support. Image mesh will not be drawn."),!1}else if(C=p.getContext("webgl2",_))r=2;else if(C=p.getContext("webgl",_))r=1;else return console.log("No WebGL support. Image mesh will not be drawn."),!1;if(C=new Proxy(C,{get(R,ee){if(R.isContextLost()){if(m||(console.error("Cannot render the mesh because the GL Context was lost. Tried to invoke ",ee),m=!0),typeof R[ee]=="function")return function(){}}else return typeof R[ee]=="function"?function(...ge){return R[ee].apply(R,ge)}:R[ee]},set(R,ee,ge){if(R.isContextLost())m||(console.error("Cannot render the mesh because the GL Context was lost. Tried to set property "+ee),m=!0);else return R[ee]=ge,!0}}),o=Math.min(C.getParameter(C.MAX_RENDERBUFFER_SIZE),C.getParameter(C.MAX_TEXTURE_SIZE)),p=C.createProgram(),ve(p,C.VERTEX_SHADER,`attribute vec2 vertex;
                attribute vec2 uv;
                uniform vec4 mat;
                uniform vec2 translate;
                varying vec2 st;
                void main() {
                    st = uv;
                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);
                }`),ve(p,C.FRAGMENT_SHADER,`precision highp float;
                uniform sampler2D image;
                varying vec2 st;
                void main() {
                    gl_FragColor = texture2D(image, st);
                }`),C.bindAttribLocation(p,0,"vertex"),C.bindAttribLocation(p,1,"uv"),C.linkProgram(p),_=C.getProgramInfoLog(p),0<(_||"").trim().length)throw _;s=C.getUniformLocation(p,"mat"),l=C.getUniformLocation(p,"translate"),C.useProgram(p),C.bindBuffer(C.ARRAY_BUFFER,C.createBuffer()),C.enableVertexAttribArray(0),C.enableVertexAttribArray(1),C.bindBuffer(C.ELEMENT_ARRAY_BUFFER,C.createBuffer()),C.uniform1i(C.getUniformLocation(p,"image"),0),C.pixelStorei(C.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t=C}return!0}let t=null,r=0,o=0,s=null,l=null,c=0,f=0,m=!1;e(),this.ac=function(){return e(),o},this.Jb=function(p){t.deleteTexture&&t.deleteTexture(p)},this.Ib=function(p){if(!e())return null;const _=t.createTexture();return _?(t.bindTexture(t.TEXTURE_2D,_),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,p),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),r==2?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_LINEAR),t.generateMipmap(t.TEXTURE_2D)):t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),_):null};const v=new _e(8),b=new _e(8),I=new _e(10),F=new _e(10);this.Mb=function(p,_,M,C,ve){if(e()){var R=v.push(p),ee=b.push(_);if(t.canvas){(t.canvas.width!=R||t.canvas.height!=ee)&&(t.canvas.width=R,t.canvas.height=ee),t.viewport(0,ee-_,p,_),t.disable(t.SCISSOR_TEST),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),t.enable(t.SCISSOR_TEST),M.sort((re,dt)=>dt.ub-re.ub),R=I.push(C),c!=R&&(t.bufferData(t.ARRAY_BUFFER,8*R,t.DYNAMIC_DRAW),c=R),R=0;for(var ge of M)t.bufferSubData(t.ARRAY_BUFFER,R,ge.Sa),R+=4*ge.Sa.length;console.assert(R==4*C);for(var Ye of M)t.bufferSubData(t.ARRAY_BUFFER,R,Ye.Ab),R+=4*Ye.Ab.length;console.assert(R==8*C),R=F.push(ve),f!=R&&(t.bufferData(t.ELEMENT_ARRAY_BUFFER,2*R,t.DYNAMIC_DRAW),f=R),ge=0;for(var Lt of M)t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,ge,Lt.indices),ge+=2*Lt.indices.length;console.assert(ge==2*ve),Lt=0,Ye=!0,R=ge=0;for(const re of M){re.image.Ia!=Lt&&(t.bindTexture(t.TEXTURE_2D,re.image.Ha||null),Lt=re.image.Ia),re.fc?(t.scissor(re.Ya,ee-re.Za-re.ib,re.tc,re.ib),Ye=!0):Ye&&(t.scissor(0,ee-_,p,_),Ye=!1),M=2/p;const dt=-2/_;t.uniform4f(s,re.ga[0]*M*re.za,re.ga[1]*dt*re.Aa,re.ga[2]*M*re.za,re.ga[3]*dt*re.Aa),t.uniform2f(l,re.ga[4]*M*re.za+M*(re.Ya-re.bc*re.za)-1,re.ga[5]*dt*re.Aa+dt*(re.Za-re.cc*re.Aa)+1),t.vertexAttribPointer(0,2,t.FLOAT,!1,0,R),t.vertexAttribPointer(1,2,t.FLOAT,!1,0,R+4*C),t.drawElements(t.TRIANGLES,re.indices.length,t.UNSIGNED_SHORT,ge),R+=4*re.Sa.length,ge+=2*re.indices.length}console.assert(R==4*C),console.assert(ge==2*ve)}}},this.canvas=function(){return e()&&t.canvas}},P=h.onRuntimeInitialized;h.onRuntimeInitialized=function(){function e(y){switch(y){case v.srcOver:return"source-over";case v.screen:return"screen";case v.overlay:return"overlay";case v.darken:return"darken";case v.lighten:return"lighten";case v.colorDodge:return"color-dodge";case v.colorBurn:return"color-burn";case v.hardLight:return"hard-light";case v.softLight:return"soft-light";case v.difference:return"difference";case v.exclusion:return"exclusion";case v.multiply:return"multiply";case v.hue:return"hue";case v.saturation:return"saturation";case v.color:return"color";case v.luminosity:return"luminosity"}}function t(y){return"rgba("+((16711680&y)>>>16)+","+((65280&y)>>>8)+","+((255&y)>>>0)+","+((4278190080&y)>>>24)/255+")"}function r(){0<ee.length&&(Ke.Mb(R.drawWidth(),R.drawHeight(),ee,ge,Ye),ee=[],Ye=ge=0,R.reset(512,512));for(const y of ve){for(const E of y.H)E();y.H=[]}ve.clear()}P&&P();var o=h.RenderPaintStyle;const s=h.RenderPath,l=h.RenderPaint,c=h.Renderer,f=h.StrokeCap,m=h.StrokeJoin,v=h.BlendMode,b=o.fill,I=o.stroke,F=h.FillRule.evenOdd;let p=1;var _=h.RenderImage.extend("CanvasRenderImage",{__construct:function({ka:y,va:E}={}){this.__parent.__construct.call(this),this.Ia=p,p=p+1&2147483647||1,this.ka=y,this.va=E},__destruct:function(){this.Ha&&(Ke.Jb(this.Ha),URL.revokeObjectURL(this.Va)),this.__parent.__destruct.call(this)},decode:function(y){var E=this;E.va&&E.va(E);var J=new Image;E.Va=URL.createObjectURL(new Blob([y],{type:"image/png"})),J.onload=function(){E.Cb=J,E.Ha=Ke.Ib(J),E.size(J.width,J.height),E.ka&&E.ka(E)},J.src=E.Va}}),M=s.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.T=new Path2D},rewind:function(){this.T=new Path2D},addPath:function(y,E,J,ie,z,te,le){var fe=this.T,ot=fe.addPath;y=y.T;const Se=new DOMMatrix;Se.a=E,Se.b=J,Se.c=ie,Se.d=z,Se.e=te,Se.f=le,ot.call(fe,y,Se)},fillRule:function(y){this.Ua=y},moveTo:function(y,E){this.T.moveTo(y,E)},lineTo:function(y,E){this.T.lineTo(y,E)},cubicTo:function(y,E,J,ie,z,te){this.T.bezierCurveTo(y,E,J,ie,z,te)},close:function(){this.T.closePath()}}),C=l.extend("CanvasRenderPaint",{color:function(y){this.Wa=t(y)},thickness:function(y){this.Fb=y},join:function(y){switch(y){case m.miter:this.Ga="miter";break;case m.round:this.Ga="round";break;case m.bevel:this.Ga="bevel"}},cap:function(y){switch(y){case f.butt:this.Fa="butt";break;case f.round:this.Fa="round";break;case f.square:this.Fa="square"}},style:function(y){this.Eb=y},blendMode:function(y){this.Bb=e(y)},clearGradient:function(){this.ia=null},linearGradient:function(y,E,J,ie){this.ia={wb:y,xb:E,bb:J,cb:ie,Pa:[]}},radialGradient:function(y,E,J,ie){this.ia={wb:y,xb:E,bb:J,cb:ie,Pa:[],$b:!0}},addStop:function(y,E){this.ia.Pa.push({color:y,stop:E})},completeGradient:function(){},draw:function(y,E,J){let ie=this.Eb;var z=this.Wa,te=this.ia;if(y.globalCompositeOperation=this.Bb,te!=null){z=te.wb;var le=te.xb;const ot=te.bb;var fe=te.cb;const Se=te.Pa;te.$b?(te=ot-z,fe-=le,z=y.createRadialGradient(z,le,0,z,le,Math.sqrt(te*te+fe*fe))):z=y.createLinearGradient(z,le,ot,fe);for(let et=0,je=Se.length;et<je;et++)le=Se[et],z.addColorStop(le.stop,t(le.color));this.Wa=z,this.ia=null}switch(ie){case I:y.strokeStyle=z,y.lineWidth=this.Fb,y.lineCap=this.Fa,y.lineJoin=this.Ga,y.stroke(E);break;case b:y.fillStyle=z,y.fill(E,J)}}});const ve=new Set;let R=null,ee=[],ge=0,Ye=0;var Lt=h.CanvasRenderer=c.extend("Renderer",{__construct:function(y){this.__parent.__construct.call(this),this.S=[1,0,0,1,0,0],this.B=y.getContext("2d"),this.Ta=y,this.H=[]},save:function(){this.S.push(...this.S.slice(this.S.length-6)),this.H.push(this.B.save.bind(this.B))},restore:function(){const y=this.S.length-6;if(6>y)throw"restore() called without matching save().";this.S.splice(y),this.H.push(this.B.restore.bind(this.B))},transform:function(y,E,J,ie,z,te){const le=this.S,fe=le.length-6;le.splice(fe,6,le[fe]*y+le[fe+2]*E,le[fe+1]*y+le[fe+3]*E,le[fe]*J+le[fe+2]*ie,le[fe+1]*J+le[fe+3]*ie,le[fe]*z+le[fe+2]*te+le[fe+4],le[fe+1]*z+le[fe+3]*te+le[fe+5]),this.H.push(this.B.transform.bind(this.B,y,E,J,ie,z,te))},rotate:function(y){const E=Math.sin(y);y=Math.cos(y),this.transform(y,E,-E,y,0,0)},_drawPath:function(y,E){this.H.push(E.draw.bind(E,this.B,y.T,y.Ua===F?"evenodd":"nonzero"))},_drawRiveImage:function(y,E,J,ie){var z=y.Cb;if(z){var te=this.B,le=e(J);this.H.push(function(){te.globalCompositeOperation=le,te.globalAlpha=ie,te.drawImage(z,0,0),te.globalAlpha=1})}},_getMatrix:function(y){const E=this.S,J=E.length-6;for(let ie=0;6>ie;++ie)y[ie]=E[J+ie]},_drawImageMesh:function(y,E,J,ie,z,te,le,fe,ot,Se,et){E=this.B.canvas.width;var je=this.B.canvas.height;const Gr=Se-fe,Kr=et-ot;fe=Math.max(fe,0),ot=Math.max(ot,0),Se=Math.min(Se,E),et=Math.min(et,je);const tn=Se-fe,nn=et-ot;if(console.assert(tn<=Math.min(Gr,E)),console.assert(nn<=Math.min(Kr,je)),!(0>=tn||0>=nn)){Se=tn<Gr||nn<Kr,E=et=1;var Ot=Math.ceil(tn*et),kt=Math.ceil(nn*E);je=Ke.ac(),Ot>je&&(et*=je/Ot,Ot=je),kt>je&&(E*=je/kt,kt=je),R||(R=new h.DynamicRectanizer(je),R.reset(512,512)),je=R.addRect(Ot,kt),0>je&&(r(),ve.add(this),je=R.addRect(Ot,kt),console.assert(0<=je));var Jr=je&65535,Qr=je>>16;ee.push({ga:this.S.slice(this.S.length-6),image:y,Ya:Jr,Za:Qr,bc:fe,cc:ot,tc:Ot,ib:kt,za:et,Aa:E,Sa:new Float32Array(z),Ab:new Float32Array(te),indices:new Uint16Array(le),fc:Se,ub:y.Ia<<1|(Se?1:0)}),ge+=z.length,Ye+=le.length;var Vt=this.B,ki=e(J);this.H.push(function(){Vt.save(),Vt.resetTransform(),Vt.globalCompositeOperation=ki,Vt.globalAlpha=ie;const Zr=Ke.canvas();Zr&&Vt.drawImage(Zr,Jr,Qr,Ot,kt,fe,ot,tn,nn),Vt.restore()})}},_clipPath:function(y){this.H.push(this.B.clip.bind(this.B,y.T,y.Ua===F?"evenodd":"nonzero"))},clear:function(){ve.add(this),this.H.push(this.B.clearRect.bind(this.B,0,0,this.Ta.width,this.Ta.height))},flush:function(){},translate:function(y,E){this.transform(1,0,0,1,y,E)}});h.makeRenderer=function(y){const E=new Lt(y),J=E.B;return new Proxy(E,{get(ie,z){if(typeof ie[z]=="function")return function(...te){return ie[z].apply(ie,te)};if(typeof J[z]=="function"){if(-1<Ge.indexOf(z))throw Error("RiveException: Method call to '"+z+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");return function(...te){E.H.push(J[z].bind(J,...te))}}return ie[z]},set(ie,z,te){if(z in J)return E.H.push(()=>{J[z]=te}),!0}})},h.decodeImage=function(y,E){new _({ka:E}).decode(y)},h.renderFactory={makeRenderPaint:function(){return new C},makeRenderPath:function(){return new M},makeRenderImage:function(){let y=dt;return new _({va:()=>{y.total++},ka:()=>{if(y.loaded++,y.loaded===y.total){const E=y.ready;E&&(E(),y.ready=null)}}})}};let re=h.load,dt=null;h.load=function(y,E,J=!0){const ie=new h.FallbackFileAssetLoader;return E!==void 0&&ie.addLoader(E),J&&(E=new h.CDNFileAssetLoader,ie.addLoader(E)),new Promise(function(z){let te=null;dt={total:0,loaded:0,ready:function(){z(te)}},te=re(y,ie),dt.total==0&&z(te)})};let Oi=h.RendererWrapper.prototype.align;h.RendererWrapper.prototype.align=function(y,E,J,ie,z=1){Oi.call(this,y,E,J,ie,z)},o=new ce,h.requestAnimationFrame=o.requestAnimationFrame.bind(o),h.cancelAnimationFrame=o.cancelAnimationFrame.bind(o),h.enableFPSCounter=o.Nb.bind(o),h.disableFPSCounter=o.Kb,o.nb=r,h.resolveAnimationFrame=r,h.cleanup=function(){R&&R.delete()}};var T=Object.assign({},h),K="./this.program",Q="",D,xe;(se||Ee)&&(Ee?Q=self.location.href:typeof document<"u"&&document.currentScript&&(Q=document.currentScript.src),ae&&(Q=ae),Q.startsWith("blob:")?Q="":Q=Q.substr(0,Q.replace(/[?#].*/,"").lastIndexOf("/")+1),Ee&&(xe=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),D=(e,t,r)=>{if(It(e)){var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="arraybuffer",o.onload=()=>{o.status==200||o.status==0&&o.response?t(o.response):r()},o.onerror=r,o.send(null)}else fetch(e,{credentials:"same-origin"}).then(s=>s.ok?s.arrayBuffer():Promise.reject(Error(s.status+" : "+s.url))).then(t,r)});var ht=h.print||console.log.bind(console),me=h.printErr||console.error.bind(console);Object.assign(h,T),T=null,h.thisProgram&&(K=h.thisProgram);var Ie;h.wasmBinary&&(Ie=h.wasmBinary);var tt,De=!1,Te,be,ze,Je,ue,Y,at,st;function ye(){var e=tt.buffer;h.HEAP8=Te=new Int8Array(e),h.HEAP16=ze=new Int16Array(e),h.HEAPU8=be=new Uint8Array(e),h.HEAPU16=Je=new Uint16Array(e),h.HEAP32=ue=new Int32Array(e),h.HEAPU32=Y=new Uint32Array(e),h.HEAPF32=at=new Float32Array(e),h.HEAPF64=st=new Float64Array(e)}var Qe=[],We=[],Et=[];function jt(){var e=h.preRun.shift();Qe.unshift(e)}var Ne=0,nt=null;function pt(e){throw h.onAbort?.(e),e="Aborted("+e+")",me(e),De=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),Re(e),e}var vt=e=>e.startsWith("data:application/octet-stream;base64,"),It=e=>e.startsWith("file://"),Ce;function Z(e){if(e==Ce&&Ie)return new Uint8Array(Ie);if(xe)return xe(e);throw"both async and sync fetching of the wasm failed"}function xt(e){return Ie?Promise.resolve().then(()=>Z(e)):new Promise((t,r)=>{D(e,o=>t(new Uint8Array(o)),()=>{try{t(Z(e))}catch(o){r(o)}})})}function Ue(e,t,r){return xt(e).then(o=>WebAssembly.instantiate(o,t)).then(r,o=>{me(`failed to asynchronously prepare wasm: ${o}`),pt(o)})}function $t(e,t){var r=Ce;return Ie||typeof WebAssembly.instantiateStreaming!="function"||vt(r)||It(r)||typeof fetch!="function"?Ue(r,e,t):fetch(r,{credentials:"same-origin"}).then(o=>WebAssembly.instantiateStreaming(o,e).then(t,function(s){return me(`wasm streaming compile failed: ${s}`),me("falling back to ArrayBuffer instantiation"),Ue(r,e,t)}))}var rt,mt,zt={464256:(e,t,r,o,s)=>{if(typeof window>"u"||(window.AudioContext||window.webkitAudioContext)===void 0)return 0;if(typeof window.h>"u"){window.h={ya:0},window.h.I={},window.h.I.wa=e,window.h.I.capture=t,window.h.I.Ja=r,window.h.fa={},window.h.fa.stopped=o,window.h.fa.vb=s;let l=window.h;l.D=[],l.rc=function(c){for(var f=0;f<l.D.length;++f)if(l.D[f]==null)return l.D[f]=c,f;return l.D.push(c),l.D.length-1},l.zb=function(c){for(l.D[c]=null;0<l.D.length&&l.D[l.D.length-1]==null;)l.D.pop()},l.Oc=function(c){for(var f=0;f<l.D.length;++f)if(l.D[f]==c)return l.zb(f)},l.pa=function(c){return l.D[c]},l.Ra=["touchend","click"],l.unlock=function(){for(var c=0;c<l.D.length;++c){var f=l.D[c];f!=null&&f.K!=null&&f.state===l.fa.vb&&f.K.resume().then(()=>{zr(f.ob)},m=>{console.error("Failed to resume audiocontext",m)})}l.Ra.map(function(m){document.removeEventListener(m,l.unlock,!0)})},l.Ra.map(function(c){document.addEventListener(c,l.unlock,!0)})}return window.h.ya+=1,1},466434:()=>{typeof window.h<"u"&&(window.h.Ra.map(function(e){document.removeEventListener(e,window.h.unlock,!0)}),--window.h.ya,window.h.ya===0&&delete window.h)},466738:()=>navigator.mediaDevices!==void 0&&navigator.mediaDevices.getUserMedia!==void 0,466842:()=>{try{var e=new(window.AudioContext||window.webkitAudioContext),t=e.sampleRate;return e.close(),t}catch{return 0}},467013:(e,t,r,o,s,l)=>{if(typeof window.h>"u")return-1;var c={},f={};return e==window.h.I.wa&&r!=0&&(f.sampleRate=r),c.K=new(window.AudioContext||window.webkitAudioContext)(f),c.K.suspend(),c.state=window.h.fa.stopped,r=0,e!=window.h.I.wa&&(r=t),c.Y=c.K.createScriptProcessor(o,r,t),c.Y.onaudioprocess=function(m){if((c.qa==null||c.qa.length==0)&&(c.qa=new Float32Array(at.buffer,s,o*t)),e==window.h.I.capture||e==window.h.I.Ja){for(var v=0;v<t;v+=1)for(var b=m.inputBuffer.getChannelData(v),I=c.qa,F=0;F<o;F+=1)I[F*t+v]=b[F];Hr(l,o,s)}if(e==window.h.I.wa||e==window.h.I.Ja)for(Xr(l,o,s),v=0;v<m.outputBuffer.numberOfChannels;++v)for(b=m.outputBuffer.getChannelData(v),I=c.qa,F=0;F<o;F+=1)b[F]=I[F*t+v];else for(v=0;v<m.outputBuffer.numberOfChannels;++v)m.outputBuffer.getChannelData(v).fill(0)},e!=window.h.I.capture&&e!=window.h.I.Ja||navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(m){c.Ba=c.K.createMediaStreamSource(m),c.Ba.connect(c.Y),c.Y.connect(c.K.destination)}).catch(function(m){console.log("Failed to get user media: "+m)}),e==window.h.I.wa&&c.Y.connect(c.K.destination),c.ob=l,window.h.rc(c)},469890:e=>window.h.pa(e).K.sampleRate,469963:e=>{e=window.h.pa(e),e.Y!==void 0&&(e.Y.onaudioprocess=function(){},e.Y.disconnect(),e.Y=void 0),e.Ba!==void 0&&(e.Ba.disconnect(),e.Ba=void 0),e.K.close(),e.K=void 0,e.ob=void 0},470363:e=>{window.h.zb(e)},470413:e=>{e=window.h.pa(e),e.K.resume(),e.state=window.h.fa.vb},470552:e=>{e=window.h.pa(e),e.K.suspend(),e.state=window.h.fa.stopped}},a=e=>{for(;0<e.length;)e.shift()(h)};function n(){var e=ue[+Gt>>2];return Gt+=4,e}var i=(e,t)=>{for(var r=0,o=e.length-1;0<=o;o--){var s=e[o];s==="."?e.splice(o,1):s===".."?(e.splice(o,1),r++):r&&(e.splice(o,1),r--)}if(t)for(;r;r--)e.unshift("..");return e},u=e=>{var t=e.charAt(0)==="/",r=e.substr(-1)==="/";return(e=i(e.split("/").filter(o=>!!o),!t).join("/"))||t||(e="."),e&&r&&(e+="/"),(t?"/":"")+e},d=e=>{var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1);return e=t[0],t=t[1],!e&&!t?".":(t&&=t.substr(0,t.length-1),e+t)},g=e=>{if(e==="/")return"/";e=u(e),e=e.replace(/\/$/,"");var t=e.lastIndexOf("/");return t===-1?e:e.substr(t+1)},w=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return e=>crypto.getRandomValues(e);pt("initRandomDevice")},S=e=>(S=w())(e),W=(...e)=>{for(var t="",r=!1,o=e.length-1;-1<=o&&!r;o--){if(r=0<=o?e[o]:"/",typeof r!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!r)return"";t=r+"/"+t,r=r.charAt(0)==="/"}return t=i(t.split("/").filter(s=>!!s),!r).join("/"),(r?"/":"")+t||"."},O=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,U=(e,t,r)=>{var o=t+r;for(r=t;e[r]&&!(r>=o);)++r;if(16<r-t&&e.buffer&&O)return O.decode(e.subarray(t,r));for(o="";t<r;){var s=e[t++];if(s&128){var l=e[t++]&63;if((s&224)==192)o+=String.fromCharCode((s&31)<<6|l);else{var c=e[t++]&63;s=(s&240)==224?(s&15)<<12|l<<6|c:(s&7)<<18|l<<12|c<<6|e[t++]&63,65536>s?o+=String.fromCharCode(s):(s-=65536,o+=String.fromCharCode(55296|s>>10,56320|s&1023))}}else o+=String.fromCharCode(s)}return o},pe=[],Be=e=>{for(var t=0,r=0;r<e.length;++r){var o=e.charCodeAt(r);127>=o?t++:2047>=o?t+=2:55296<=o&&57343>=o?(t+=4,++r):t+=3}return t},Ae=(e,t,r,o)=>{if(!(0<o))return 0;var s=r;o=r+o-1;for(var l=0;l<e.length;++l){var c=e.charCodeAt(l);if(55296<=c&&57343>=c){var f=e.charCodeAt(++l);c=65536+((c&1023)<<10)|f&1023}if(127>=c){if(r>=o)break;t[r++]=c}else{if(2047>=c){if(r+1>=o)break;t[r++]=192|c>>6}else{if(65535>=c){if(r+2>=o)break;t[r++]=224|c>>12}else{if(r+3>=o)break;t[r++]=240|c>>18,t[r++]=128|c>>12&63}t[r++]=128|c>>6&63}t[r++]=128|c&63}}return t[r]=0,r-s};function it(e,t){var r=Array(Be(e)+1);return e=Ae(e,r,0,r.length),t&&(r.length=e),r}var Ze=[];function $e(e,t){Ze[e]={input:[],G:[],V:t},Un(e,He)}var He={open(e){var t=Ze[e.node.xa];if(!t)throw new L(43);e.s=t,e.seekable=!1},close(e){e.s.V.oa(e.s)},oa(e){e.s.V.oa(e.s)},read(e,t,r,o){if(!e.s||!e.s.V.hb)throw new L(60);for(var s=0,l=0;l<o;l++){try{var c=e.s.V.hb(e.s)}catch{throw new L(29)}if(c===void 0&&s===0)throw new L(6);if(c==null)break;s++,t[r+l]=c}return s&&(e.node.timestamp=Date.now()),s},write(e,t,r,o){if(!e.s||!e.s.V.Ma)throw new L(60);try{for(var s=0;s<o;s++)e.s.V.Ma(e.s,t[r+s])}catch{throw new L(29)}return o&&(e.node.timestamp=Date.now()),s}},qe={hb(){e:{if(!pe.length){var e=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(e=window.prompt("Input: "),e!==null&&(e+=`
`)),!e){e=null;break e}pe=it(e,!0)}e=pe.shift()}return e},Ma(e,t){t===null||t===10?(ht(U(e.G,0)),e.G=[]):t!=0&&e.G.push(t)},oa(e){e.G&&0<e.G.length&&(ht(U(e.G,0)),e.G=[])},Xb(){return{zc:25856,Bc:5,yc:191,Ac:35387,xc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Yb(){return 0},Zb(){return[24,80]}},Mt={Ma(e,t){t===null||t===10?(me(U(e.G,0)),e.G=[]):t!=0&&e.G.push(t)},oa(e){e.G&&0<e.G.length&&(me(U(e.G,0)),e.G=[])}};function gt(e,t){var r=e.l?e.l.length:0;r>=t||(t=Math.max(t,r*(1048576>r?2:1.125)>>>0),r!=0&&(t=Math.max(t,256)),r=e.l,e.l=new Uint8Array(t),0<e.v&&e.l.set(r.subarray(0,e.v),0))}var B={N:null,U(){return B.createNode(null,"/",16895,0)},createNode(e,t,r,o){if((r&61440)===24576||(r&61440)===4096)throw new L(63);return B.N||(B.N={dir:{node:{X:B.j.X,P:B.j.P,ja:B.j.ja,ta:B.j.ta,sb:B.j.sb,yb:B.j.yb,tb:B.j.tb,rb:B.j.rb,Ca:B.j.Ca},stream:{aa:B.m.aa}},file:{node:{X:B.j.X,P:B.j.P},stream:{aa:B.m.aa,read:B.m.read,write:B.m.write,Xa:B.m.Xa,kb:B.m.kb,mb:B.m.mb}},link:{node:{X:B.j.X,P:B.j.P,la:B.j.la},stream:{}},$a:{node:{X:B.j.X,P:B.j.P},stream:oi}}),r=gr(e,t,r,o),(r.mode&61440)===16384?(r.j=B.N.dir.node,r.m=B.N.dir.stream,r.l={}):(r.mode&61440)===32768?(r.j=B.N.file.node,r.m=B.N.file.stream,r.v=0,r.l=null):(r.mode&61440)===40960?(r.j=B.N.link.node,r.m=B.N.link.stream):(r.mode&61440)===8192&&(r.j=B.N.$a.node,r.m=B.N.$a.stream),r.timestamp=Date.now(),e&&(e.l[t]=r,e.timestamp=r.timestamp),r},Fc(e){return e.l?e.l.subarray?e.l.subarray(0,e.v):new Uint8Array(e.l):new Uint8Array(0)},j:{X(e){var t={};return t.Dc=(e.mode&61440)===8192?e.id:1,t.Hc=e.id,t.mode=e.mode,t.Kc=1,t.uid=0,t.Gc=0,t.xa=e.xa,(e.mode&61440)===16384?t.size=4096:(e.mode&61440)===32768?t.size=e.v:(e.mode&61440)===40960?t.size=e.link.length:t.size=0,t.vc=new Date(e.timestamp),t.Jc=new Date(e.timestamp),t.Cc=new Date(e.timestamp),t.Gb=4096,t.wc=Math.ceil(t.size/t.Gb),t},P(e,t){if(t.mode!==void 0&&(e.mode=t.mode),t.timestamp!==void 0&&(e.timestamp=t.timestamp),t.size!==void 0&&(t=t.size,e.v!=t))if(t==0)e.l=null,e.v=0;else{var r=e.l;e.l=new Uint8Array(t),r&&e.l.set(r.subarray(0,Math.min(t,e.v))),e.v=t}},ja(){throw Vn[44]},ta(e,t,r,o){return B.createNode(e,t,r,o)},sb(e,t,r){if((e.mode&61440)===16384){try{var o=an(t,r)}catch{}if(o)for(var s in o.l)throw new L(55)}delete e.parent.l[e.name],e.parent.timestamp=Date.now(),e.name=r,t.l[r]=e,t.timestamp=e.parent.timestamp},yb(e,t){delete e.l[t],e.timestamp=Date.now()},tb(e,t){var r=an(e,t),o;for(o in r.l)throw new L(55);delete e.l[t],e.timestamp=Date.now()},rb(e){var t=[".",".."],r;for(r of Object.keys(e.l))t.push(r);return t},Ca(e,t,r){return e=B.createNode(e,t,41471,0),e.link=r,e},la(e){if((e.mode&61440)!==40960)throw new L(28);return e.link}},m:{read(e,t,r,o,s){var l=e.node.l;if(s>=e.node.v)return 0;if(e=Math.min(e.node.v-s,o),8<e&&l.subarray)t.set(l.subarray(s,s+e),r);else for(o=0;o<e;o++)t[r+o]=l[s+o];return e},write(e,t,r,o,s,l){if(t.buffer===Te.buffer&&(l=!1),!o)return 0;if(e=e.node,e.timestamp=Date.now(),t.subarray&&(!e.l||e.l.subarray)){if(l)return e.l=t.subarray(r,r+o),e.v=o;if(e.v===0&&s===0)return e.l=t.slice(r,r+o),e.v=o;if(s+o<=e.v)return e.l.set(t.subarray(r,r+o),s),o}if(gt(e,s+o),e.l.subarray&&t.subarray)e.l.set(t.subarray(r,r+o),s);else for(l=0;l<o;l++)e.l[s+l]=t[r+l];return e.v=Math.max(e.v,s+o),o},aa(e,t,r){if(r===1?t+=e.position:r===2&&(e.node.mode&61440)===32768&&(t+=e.node.v),0>t)throw new L(28);return t},Xa(e,t,r){gt(e.node,t+r),e.node.v=Math.max(e.node.v,t+r)},kb(e,t,r,o,s){if((e.node.mode&61440)!==32768)throw new L(43);if(e=e.node.l,s&2||e.buffer!==Te.buffer){if((0<r||r+t<e.length)&&(e.subarray?e=e.subarray(r,r+t):e=Array.prototype.slice.call(e,r,r+t)),r=!0,pt(),t=void 0,!t)throw new L(48);Te.set(e,t)}else r=!1,t=e.byteOffset;return{o:t,uc:r}},mb(e,t,r,o){return B.m.write(e,t,0,o,r,!1),0}}},ut=(e,t)=>{var r=0;return e&&(r|=365),t&&(r|=146),r},q=null,yt={},Ht=[],ti=1,Xt=null,pr=!0,L=class{constructor(e){this.name="ErrnoError",this.$=e}},Vn={},ni=class{constructor(){this.h={},this.node=null}get flags(){return this.h.flags}set flags(e){this.h.flags=e}get position(){return this.h.position}set position(e){this.h.position=e}},ri=class{constructor(e,t,r,o){e||=this,this.parent=e,this.U=e.U,this.ua=null,this.id=ti++,this.name=t,this.mode=r,this.j={},this.m={},this.xa=o}get read(){return(this.mode&365)===365}set read(e){e?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(e){e?this.mode|=146:this.mode&=-147}};function Rt(e,t={}){if(e=W(e),!e)return{path:"",node:null};if(t=Object.assign({gb:!0,Oa:0},t),8<t.Oa)throw new L(32);e=e.split("/").filter(c=>!!c);for(var r=q,o="/",s=0;s<e.length;s++){var l=s===e.length-1;if(l&&t.parent)break;if(r=an(r,e[s]),o=u(o+"/"+e[s]),r.ua&&(!l||l&&t.gb)&&(r=r.ua.root),!l||t.fb){for(l=0;(r.mode&61440)===40960;)if(r=ai(o),o=W(d(o),r),r=Rt(o,{Oa:t.Oa+1}).node,40<l++)throw new L(32)}}return{path:o,node:r}}function vr(e){for(var t;;){if(e===e.parent)return e=e.U.lb,t?e[e.length-1]!=="/"?`${e}/${t}`:e+t:e;t=t?`${e.name}/${t}`:e.name,e=e.parent}}function mr(e,t){for(var r=0,o=0;o<t.length;o++)r=(r<<5)-r+t.charCodeAt(o)|0;return(e+r>>>0)%Xt.length}function an(e,t){var r=(e.mode&61440)===16384?(r=sn(e,"x"))?r:e.j.ja?0:2:54;if(r)throw new L(r);for(r=Xt[mr(e.id,t)];r;r=r.ec){var o=r.name;if(r.parent.id===e.id&&o===t)return r}return e.j.ja(e,t)}function gr(e,t,r,o){return e=new ri(e,t,r,o),t=mr(e.parent.id,e.name),e.ec=Xt[t],Xt[t]=e}function yr(e){var t=["r","w","rw"][e&3];return e&512&&(t+="w"),t}function sn(e,t){if(pr)return 0;if(!t.includes("r")||e.mode&292){if(t.includes("w")&&!(e.mode&146)||t.includes("x")&&!(e.mode&73))return 2}else return 2;return 0}function wr(e,t){try{return an(e,t),20}catch{}return sn(e,"wx")}function Pt(e){if(e=Ht[e],!e)throw new L(8);return e}function br(e,t=-1){if(e=Object.assign(new ni,e),t==-1)e:{for(t=0;4096>=t;t++)if(!Ht[t])break e;throw new L(33)}return e.W=t,Ht[t]=e}function ii(e,t=-1){return e=br(e,t),e.m?.Ec?.(e),e}var oi={open(e){e.m=yt[e.node.xa].m,e.m.open?.(e)},aa(){throw new L(70)}};function Un(e,t){yt[e]={m:t}}function _r(e,t){var r=t==="/";if(r&&q)throw new L(10);if(!r&&t){var o=Rt(t,{gb:!1});if(t=o.path,o=o.node,o.ua)throw new L(10);if((o.mode&61440)!==16384)throw new L(54)}t={type:e,Mc:{},lb:t,dc:[]},e=e.U(t),e.U=t,t.root=e,r?q=e:o&&(o.ua=t,o.U&&o.U.dc.push(t))}function Nn(e,t,r){var o=Rt(e,{parent:!0}).node;if(e=g(e),!e||e==="."||e==="..")throw new L(28);var s=wr(o,e);if(s)throw new L(s);if(!o.j.ta)throw new L(63);return o.j.ta(o,e,t,r)}function wt(e){return Nn(e,16895,0)}function un(e,t,r){typeof r>"u"&&(r=t,t=438),Nn(e,t|8192,r)}function $n(e,t){if(!W(e))throw new L(44);var r=Rt(t,{parent:!0}).node;if(!r)throw new L(44);t=g(t);var o=wr(r,t);if(o)throw new L(o);if(!r.j.Ca)throw new L(63);r.j.Ca(r,t,e)}function ai(e){if(e=Rt(e).node,!e)throw new L(44);if(!e.j.la)throw new L(28);return W(vr(e.parent),e.j.la(e))}function ln(e,t,r){if(e==="")throw new L(44);if(typeof t=="string"){var o={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[t];if(typeof o>"u")throw Error(`Unknown file open mode: ${t}`);t=o}if(r=t&64?(typeof r>"u"?438:r)&4095|32768:0,typeof e=="object")var s=e;else{e=u(e);try{s=Rt(e,{fb:!(t&131072)}).node}catch{}}if(o=!1,t&64)if(s){if(t&128)throw new L(20)}else s=Nn(e,r,0),o=!0;if(!s)throw new L(44);if((s.mode&61440)===8192&&(t&=-513),t&65536&&(s.mode&61440)!==16384)throw new L(54);if(!o&&(r=s?(s.mode&61440)===40960?32:(s.mode&61440)===16384&&(yr(t)!=="r"||t&512)?31:sn(s,yr(t)):44))throw new L(r);if(t&512&&!o){if(r=s,r=typeof r=="string"?Rt(r,{fb:!0}).node:r,!r.j.P)throw new L(63);if((r.mode&61440)===16384)throw new L(31);if((r.mode&61440)!==32768)throw new L(28);if(o=sn(r,"w"))throw new L(o);r.j.P(r,{size:0,timestamp:Date.now()})}return t&=-131713,s=br({node:s,path:vr(s),flags:t,seekable:!0,position:0,m:s.m,sc:[],error:!1}),s.m.open&&s.m.open(s),!h.logReadFiles||t&1||(zn||={},e in zn||(zn[e]=1)),s}function Ar(e,t,r){if(e.W===null)throw new L(8);if(!e.seekable||!e.m.aa)throw new L(70);if(r!=0&&r!=1&&r!=2)throw new L(28);e.position=e.m.aa(e,t,r),e.sc=[]}var Cr;function Yt(e,t,r){e=u("/dev/"+e);var o=ut(!!t,!!r);Er||=64;var s=Er++<<8|0;Un(s,{open(l){l.seekable=!1},close(){r?.buffer?.length&&r(10)},read(l,c,f,m){for(var v=0,b=0;b<m;b++){try{var I=t()}catch{throw new L(29)}if(I===void 0&&v===0)throw new L(6);if(I==null)break;v++,c[f+b]=I}return v&&(l.node.timestamp=Date.now()),v},write(l,c,f,m){for(var v=0;v<m;v++)try{r(c[f+v])}catch{throw new L(29)}return m&&(l.node.timestamp=Date.now()),v}}),un(e,o,s)}var Er,Ft={},zn,Gt=void 0,Dt=(e,t)=>Object.defineProperty(t,"name",{value:e}),Hn=[],bt=[],V,lt=e=>{if(!e)throw new V("Cannot use deleted val. handle = "+e);return bt[e]},ct=e=>{switch(e){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:const t=Hn.pop()||bt.length;return bt[t]=e,bt[t+1]=1,t}},Ir=e=>{var t=Error,r=Dt(e,function(o){this.name=e,this.message=o,o=Error(o).stack,o!==void 0&&(this.stack=this.toString()+`
`+o.replace(/^Error(:[^\n]*)?\n/,""))});return r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},r},Mr,Pr,Fe=e=>{for(var t="";be[e];)t+=Pr[be[e++]];return t},Kt=[],Xn=()=>{for(;Kt.length;){var e=Kt.pop();e.g.ea=!1,e.delete()}},Jt,_t={},Yn=(e,t)=>{if(t===void 0)throw new V("ptr should not be undefined");for(;e.C;)t=e.ma(t),e=e.C;return t},Tt={},Rr=e=>{e=$r(e);var t=Fe(e);return Ct(e),t},Qt=(e,t)=>{var r=Tt[e];if(r===void 0)throw e=`${t} has unknown type ${Rr(e)}`,new V(e);return r},cn=()=>{},Gn=!1,Fr=(e,t,r)=>t===r?e:r.C===void 0?null:(e=Fr(e,t,r.C),e===null?null:r.Lb(e)),Tr={},si=(e,t)=>(t=Yn(e,t),_t[t]),Zt,fn=(e,t)=>{if(!t.u||!t.o)throw new Zt("makeClassHandle requires ptr and ptrType");if(!!t.J!=!!t.F)throw new Zt("Both smartPtrType and smartPtr must be specified");return t.count={value:1},Wt(Object.create(e,{g:{value:t,writable:!0}}))},Wt=e=>typeof FinalizationRegistry>"u"?(Wt=t=>t,e):(Gn=new FinalizationRegistry(t=>{t=t.g,--t.count.value,t.count.value===0&&(t.F?t.J.O(t.F):t.u.i.O(t.o))}),Wt=t=>{var r=t.g;return r.F&&Gn.register(t,{g:r},t),t},cn=t=>{Gn.unregister(t)},Wt(e)),dn={},qt=e=>{for(;e.length;){var t=e.pop();e.pop()(t)}};function en(e){return this.fromWireType(Y[e>>2])}var Bt={},hn={},Xe=(e,t,r)=>{function o(f){if(f=r(f),f.length!==e.length)throw new Zt("Mismatched type converter count");for(var m=0;m<e.length;++m)ft(e[m],f[m])}e.forEach(function(f){hn[f]=t});var s=Array(t.length),l=[],c=0;t.forEach((f,m)=>{Tt.hasOwnProperty(f)?s[m]=Tt[f]:(l.push(f),Bt.hasOwnProperty(f)||(Bt[f]=[]),Bt[f].push(()=>{s[m]=Tt[f],++c,c===l.length&&o(s)}))}),l.length===0&&o(s)};function ui(e,t,r={}){var o=t.name;if(!e)throw new V(`type "${o}" must have a positive integer typeid pointer`);if(Tt.hasOwnProperty(e)){if(r.Vb)return;throw new V(`Cannot register type '${o}' twice`)}Tt[e]=t,delete hn[e],Bt.hasOwnProperty(e)&&(t=Bt[e],delete Bt[e],t.forEach(s=>s()))}function ft(e,t,r={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");return ui(e,t,r)}var Kn=e=>{throw new V(e.g.u.i.name+" instance already deleted")};function pn(){}var Jn=(e,t,r)=>{if(e[t].A===void 0){var o=e[t];e[t]=function(...s){if(!e[t].A.hasOwnProperty(s.length))throw new V(`Function '${r}' called with an invalid number of arguments (${s.length}) - expects one of (${e[t].A})!`);return e[t].A[s.length].apply(this,s)},e[t].A=[],e[t].A[o.da]=o}},Qn=(e,t,r)=>{if(h.hasOwnProperty(e)){if(r===void 0||h[e].A!==void 0&&h[e].A[r]!==void 0)throw new V(`Cannot register public name '${e}' twice`);if(Jn(h,e,e),h.hasOwnProperty(r))throw new V(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`);h[e].A[r]=t}else h[e]=t,r!==void 0&&(h[e].Lc=r)},li=e=>{if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return 48<=t&&57>=t?`_${e}`:e};function ci(e,t,r,o,s,l,c,f){this.name=e,this.constructor=t,this.M=r,this.O=o,this.C=s,this.Qb=l,this.ma=c,this.Lb=f,this.pb=[]}var vn=(e,t,r)=>{for(;t!==r;){if(!t.ma)throw new V(`Expected null or instance of ${r.name}, got an instance of ${t.name}`);e=t.ma(e),t=t.C}return e};function fi(e,t){if(t===null){if(this.La)throw new V(`null is not a valid ${this.name}`);return 0}if(!t.g)throw new V(`Cannot pass "${er(t)}" as a ${this.name}`);if(!t.g.o)throw new V(`Cannot pass deleted object as a pointer of type ${this.name}`);return vn(t.g.o,t.g.u.i,this.i)}function di(e,t){if(t===null){if(this.La)throw new V(`null is not a valid ${this.name}`);if(this.sa){var r=this.Na();return e!==null&&e.push(this.O,r),r}return 0}if(!t||!t.g)throw new V(`Cannot pass "${er(t)}" as a ${this.name}`);if(!t.g.o)throw new V(`Cannot pass deleted object as a pointer of type ${this.name}`);if(!this.ra&&t.g.u.ra)throw new V(`Cannot convert argument of type ${t.g.J?t.g.J.name:t.g.u.name} to parameter type ${this.name}`);if(r=vn(t.g.o,t.g.u.i,this.i),this.sa){if(t.g.F===void 0)throw new V("Passing raw pointer to smart pointer is illegal");switch(this.mc){case 0:if(t.g.J===this)r=t.g.F;else throw new V(`Cannot convert argument of type ${t.g.J?t.g.J.name:t.g.u.name} to parameter type ${this.name}`);break;case 1:r=t.g.F;break;case 2:if(t.g.J===this)r=t.g.F;else{var o=t.clone();r=this.ic(r,ct(()=>o.delete())),e!==null&&e.push(this.O,r)}break;default:throw new V("Unsupporting sharing policy")}}return r}function hi(e,t){if(t===null){if(this.La)throw new V(`null is not a valid ${this.name}`);return 0}if(!t.g)throw new V(`Cannot pass "${er(t)}" as a ${this.name}`);if(!t.g.o)throw new V(`Cannot pass deleted object as a pointer of type ${this.name}`);if(t.g.u.ra)throw new V(`Cannot convert argument of type ${t.g.u.name} to parameter type ${this.name}`);return vn(t.g.o,t.g.u.i,this.i)}function mn(e,t,r,o,s,l,c,f,m,v,b){this.name=e,this.i=t,this.La=r,this.ra=o,this.sa=s,this.hc=l,this.mc=c,this.qb=f,this.Na=m,this.ic=v,this.O=b,s||t.C!==void 0?this.toWireType=di:(this.toWireType=o?fi:hi,this.L=null)}var Lr=(e,t,r)=>{if(!h.hasOwnProperty(e))throw new Zt("Replacing nonexistent public symbol");h[e].A!==void 0&&r!==void 0?h[e].A[r]=t:(h[e]=t,h[e].da=r)},gn=[],Or,kr=e=>{var t=gn[e];return t||(e>=gn.length&&(gn.length=e+1),gn[e]=t=Or.get(e)),t},pi=(e,t,r=[])=>(e.includes("j")?(e=e.replace(/p/g,"i"),t=(0,h["dynCall_"+e])(t,...r)):t=kr(t)(...r),t),vi=(e,t)=>(...r)=>pi(e,t,r),Ve=(e,t)=>{e=Fe(e);var r=e.includes("j")?vi(e,t):kr(t);if(typeof r!="function")throw new V(`unknown function pointer with signature ${e}: ${t}`);return r},Sr,At=(e,t)=>{function r(l){s[l]||Tt[l]||(hn[l]?hn[l].forEach(r):(o.push(l),s[l]=!0))}var o=[],s={};throw t.forEach(r),new Sr(`${e}: `+o.map(Rr).join([", "]))};function mi(e){for(var t=1;t<e.length;++t)if(e[t]!==null&&e[t].L===void 0)return!0;return!1}function yn(e,t,r,o,s){var l=t.length;if(2>l)throw new V("argTypes array size mismatch! Must at least get return value and 'this' types!");var c=t[1]!==null&&r!==null,f=mi(t),m=t[0].name!=="void",v=l-2,b=Array(v),I=[],F=[];return Dt(e,function(...p){if(p.length!==v)throw new V(`function ${e} called with ${p.length} arguments, expected ${v}`);if(F.length=0,I.length=c?2:1,I[0]=s,c){var _=t[1].toWireType(F,this);I[1]=_}for(var M=0;M<v;++M)b[M]=t[M+2].toWireType(F,p[M]),I.push(b[M]);if(p=o(...I),f)qt(F);else for(M=c?1:2;M<t.length;M++){var C=M===1?_:b[M-2];t[M].L!==null&&t[M].L(C)}return _=m?t[0].fromWireType(p):void 0,_})}var wn=(e,t)=>{for(var r=[],o=0;o<e;o++)r.push(Y[t+4*o>>2]);return r},Zn=e=>{e=e.trim();const t=e.indexOf("(");return t!==-1?e.substr(0,t):e},jr=(e,t,r)=>{if(!(e instanceof Object))throw new V(`${r} with invalid "this": ${e}`);if(!(e instanceof t.i.constructor))throw new V(`${r} incompatible with "this" of type ${e.constructor.name}`);if(!e.g.o)throw new V(`cannot call emscripten binding method ${r} on deleted object`);return vn(e.g.o,e.g.u.i,t.i)},qn=e=>{9<e&&--bt[e+1]===0&&(bt[e]=void 0,Hn.push(e))},gi={name:"emscripten::val",fromWireType:e=>{var t=lt(e);return qn(e),t},toWireType:(e,t)=>ct(t),argPackAdvance:8,readValueFromPointer:en,L:null},yi=(e,t,r)=>{switch(t){case 1:return r?function(o){return this.fromWireType(Te[o])}:function(o){return this.fromWireType(be[o])};case 2:return r?function(o){return this.fromWireType(ze[o>>1])}:function(o){return this.fromWireType(Je[o>>1])};case 4:return r?function(o){return this.fromWireType(ue[o>>2])}:function(o){return this.fromWireType(Y[o>>2])};default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},er=e=>{if(e===null)return"null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e},wi=(e,t)=>{switch(t){case 4:return function(r){return this.fromWireType(at[r>>2])};case 8:return function(r){return this.fromWireType(st[r>>3])};default:throw new TypeError(`invalid float width (${t}): ${e}`)}},bi=(e,t,r)=>{switch(t){case 1:return r?o=>Te[o]:o=>be[o];case 2:return r?o=>ze[o>>1]:o=>Je[o>>1];case 4:return r?o=>ue[o>>2]:o=>Y[o>>2];default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},xr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,_i=(e,t)=>{for(var r=e>>1,o=r+t/2;!(r>=o)&&Je[r];)++r;if(r<<=1,32<r-e&&xr)return xr.decode(be.subarray(e,r));for(r="",o=0;!(o>=t/2);++o){var s=ze[e+2*o>>1];if(s==0)break;r+=String.fromCharCode(s)}return r},Ai=(e,t,r)=>{if(r??=2147483647,2>r)return 0;r-=2;var o=t;r=r<2*e.length?r/2:e.length;for(var s=0;s<r;++s)ze[t>>1]=e.charCodeAt(s),t+=2;return ze[t>>1]=0,t-o},Ci=e=>2*e.length,Ei=(e,t)=>{for(var r=0,o="";!(r>=t/4);){var s=ue[e+4*r>>2];if(s==0)break;++r,65536<=s?(s-=65536,o+=String.fromCharCode(55296|s>>10,56320|s&1023)):o+=String.fromCharCode(s)}return o},Ii=(e,t,r)=>{if(r??=2147483647,4>r)return 0;var o=t;r=o+r-4;for(var s=0;s<e.length;++s){var l=e.charCodeAt(s);if(55296<=l&&57343>=l){var c=e.charCodeAt(++s);l=65536+((l&1023)<<10)|c&1023}if(ue[t>>2]=l,t+=4,t+4>r)break}return ue[t>>2]=0,t-o},Mi=e=>{for(var t=0,r=0;r<e.length;++r){var o=e.charCodeAt(r);55296<=o&&57343>=o&&++r,t+=4}return t},Dr=(e,t,r)=>{var o=[];return e=e.toWireType(o,r),o.length&&(Y[t>>2]=ct(o)),e},Pi={},tr=e=>{var t=Pi[e];return t===void 0?Fe(e):t},nr=[],Ri=e=>{var t=nr.length;return nr.push(e),t},Fi=(e,t)=>{for(var r=Array(e),o=0;o<e;++o)r[o]=Qt(Y[t+4*o>>2],"parameter "+o);return r},Ti=Reflect.construct,rr=[],ir={},Wr=()=>{if(!or){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:K||"./this.program"},t;for(t in ir)ir[t]===void 0?delete e[t]:e[t]=ir[t];var r=[];for(t in e)r.push(`${t}=${e[t]}`);or=r}return or},or,bn=e=>e%4===0&&(e%100!==0||e%400===0),Br=[31,29,31,30,31,30,31,31,30,31,30,31],Vr=[31,28,31,30,31,30,31,31,30,31,30,31],Li=(e,t,r,o)=>{function s(p,_,M){for(p=typeof p=="number"?p.toString():p||"";p.length<_;)p=M[0]+p;return p}function l(p,_){return s(p,_,"0")}function c(p,_){function M(ve){return 0>ve?-1:0<ve?1:0}var C;return(C=M(p.getFullYear()-_.getFullYear()))===0&&(C=M(p.getMonth()-_.getMonth()))===0&&(C=M(p.getDate()-_.getDate())),C}function f(p){switch(p.getDay()){case 0:return new Date(p.getFullYear()-1,11,29);case 1:return p;case 2:return new Date(p.getFullYear(),0,3);case 3:return new Date(p.getFullYear(),0,2);case 4:return new Date(p.getFullYear(),0,1);case 5:return new Date(p.getFullYear()-1,11,31);case 6:return new Date(p.getFullYear()-1,11,30)}}function m(p){var _=p.ba;for(p=new Date(new Date(p.ca+1900,0,1).getTime());0<_;){var M=p.getMonth(),C=(bn(p.getFullYear())?Br:Vr)[M];if(_>C-p.getDate())_-=C-p.getDate()+1,p.setDate(1),11>M?p.setMonth(M+1):(p.setMonth(0),p.setFullYear(p.getFullYear()+1));else{p.setDate(p.getDate()+_);break}}return M=new Date(p.getFullYear()+1,0,4),_=f(new Date(p.getFullYear(),0,4)),M=f(M),0>=c(_,p)?0>=c(M,p)?p.getFullYear()+1:p.getFullYear():p.getFullYear()-1}var v=Y[o+40>>2];o={pc:ue[o>>2],oc:ue[o+4>>2],Da:ue[o+8>>2],Qa:ue[o+12>>2],Ea:ue[o+16>>2],ca:ue[o+20>>2],R:ue[o+24>>2],ba:ue[o+28>>2],Nc:ue[o+32>>2],nc:ue[o+36>>2],qc:v&&v?U(be,v):""},r=r?U(be,r):"",v={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var b in v)r=r.replace(new RegExp(b,"g"),v[b]);var I="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),F="January February March April May June July August September October November December".split(" ");v={"%a":p=>I[p.R].substring(0,3),"%A":p=>I[p.R],"%b":p=>F[p.Ea].substring(0,3),"%B":p=>F[p.Ea],"%C":p=>l((p.ca+1900)/100|0,2),"%d":p=>l(p.Qa,2),"%e":p=>s(p.Qa,2," "),"%g":p=>m(p).toString().substring(2),"%G":m,"%H":p=>l(p.Da,2),"%I":p=>(p=p.Da,p==0?p=12:12<p&&(p-=12),l(p,2)),"%j":p=>{for(var _=0,M=0;M<=p.Ea-1;_+=(bn(p.ca+1900)?Br:Vr)[M++]);return l(p.Qa+_,3)},"%m":p=>l(p.Ea+1,2),"%M":p=>l(p.oc,2),"%n":()=>`
`,"%p":p=>0<=p.Da&&12>p.Da?"AM":"PM","%S":p=>l(p.pc,2),"%t":()=>"	","%u":p=>p.R||7,"%U":p=>l(Math.floor((p.ba+7-p.R)/7),2),"%V":p=>{var _=Math.floor((p.ba+7-(p.R+6)%7)/7);if(2>=(p.R+371-p.ba-2)%7&&_++,_)_==53&&(M=(p.R+371-p.ba)%7,M==4||M==3&&bn(p.ca)||(_=1));else{_=52;var M=(p.R+7-p.ba-1)%7;(M==4||M==5&&bn(p.ca%400-1))&&_++}return l(_,2)},"%w":p=>p.R,"%W":p=>l(Math.floor((p.ba+7-(p.R+6)%7)/7),2),"%y":p=>(p.ca+1900).toString().substring(2),"%Y":p=>p.ca+1900,"%z":p=>{p=p.nc;var _=0<=p;return p=Math.abs(p)/60,(_?"+":"-")+("0000"+(p/60*100+p%60)).slice(-4)},"%Z":p=>p.qc,"%%":()=>"%"},r=r.replace(/%%/g,"\0\0");for(b in v)r.includes(b)&&(r=r.replace(new RegExp(b,"g"),v[b](o)));return r=r.replace(/\0\0/g,"%"),b=it(r,!1),b.length>t?0:(Te.set(b,e),b.length-1)};[44].forEach(e=>{Vn[e]=new L(e),Vn[e].stack="<generic error, no stack>"}),Xt=Array(4096),_r(B,"/"),wt("/tmp"),wt("/home"),wt("/home/web_user"),(function(){wt("/dev"),Un(259,{read:()=>0,write:(o,s,l,c)=>c}),un("/dev/null",259),$e(1280,qe),$e(1536,Mt),un("/dev/tty",1280),un("/dev/tty1",1536);var e=new Uint8Array(1024),t=0,r=()=>(t===0&&(t=S(e).byteLength),e[--t]);Yt("random",r),Yt("urandom",r),wt("/dev/shm"),wt("/dev/shm/tmp")})(),(function(){wt("/proc");var e=wt("/proc/self");wt("/proc/self/fd"),_r({U(){var t=gr(e,"fd",16895,73);return t.j={ja(r,o){var s=Pt(+o);return r={parent:null,U:{lb:"fake"},j:{la:()=>s.path}},r.parent=r}},t}},"/proc/self/fd")})(),V=h.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},bt.push(0,1,void 0,1,null,1,!0,1,!1,1),h.count_emval_handles=()=>bt.length/2-5-Hn.length,Mr=h.PureVirtualError=Ir("PureVirtualError");for(var Ur=Array(256),_n=0;256>_n;++_n)Ur[_n]=String.fromCharCode(_n);Pr=Ur,h.getInheritedInstanceCount=()=>Object.keys(_t).length,h.getLiveInheritedInstances=()=>{var e=[],t;for(t in _t)_t.hasOwnProperty(t)&&e.push(_t[t]);return e},h.flushPendingDeletes=Xn,h.setDelayFunction=e=>{Jt=e,Kt.length&&Jt&&Jt(Xn)},Zt=h.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},Object.assign(pn.prototype,{isAliasOf:function(e){if(!(this instanceof pn&&e instanceof pn))return!1;var t=this.g.u.i,r=this.g.o;e.g=e.g;var o=e.g.u.i;for(e=e.g.o;t.C;)r=t.ma(r),t=t.C;for(;o.C;)e=o.ma(e),o=o.C;return t===o&&r===e},clone:function(){if(this.g.o||Kn(this),this.g.ha)return this.g.count.value+=1,this;var e=Wt,t=Object,r=t.create,o=Object.getPrototypeOf(this),s=this.g;return e=e(r.call(t,o,{g:{value:{count:s.count,ea:s.ea,ha:s.ha,o:s.o,u:s.u,F:s.F,J:s.J}}})),e.g.count.value+=1,e.g.ea=!1,e},delete(){if(this.g.o||Kn(this),this.g.ea&&!this.g.ha)throw new V("Object already scheduled for deletion");cn(this);var e=this.g;--e.count.value,e.count.value===0&&(e.F?e.J.O(e.F):e.u.i.O(e.o)),this.g.ha||(this.g.F=void 0,this.g.o=void 0)},isDeleted:function(){return!this.g.o},deleteLater:function(){if(this.g.o||Kn(this),this.g.ea&&!this.g.ha)throw new V("Object already scheduled for deletion");return Kt.push(this),Kt.length===1&&Jt&&Jt(Xn),this.g.ea=!0,this}}),Object.assign(mn.prototype,{Rb(e){return this.qb&&(e=this.qb(e)),e},ab(e){this.O?.(e)},argPackAdvance:8,readValueFromPointer:en,fromWireType:function(e){function t(){return this.sa?fn(this.i.M,{u:this.hc,o:r,J:this,F:e}):fn(this.i.M,{u:this,o:e})}var r=this.Rb(e);if(!r)return this.ab(e),null;var o=si(this.i,r);if(o!==void 0)return o.g.count.value===0?(o.g.o=r,o.g.F=e,o.clone()):(o=o.clone(),this.ab(e),o);if(o=this.i.Qb(r),o=Tr[o],!o)return t.call(this);o=this.ra?o.Hb:o.pointerType;var s=Fr(r,this.i,o.i);return s===null?t.call(this):this.sa?fn(o.i.M,{u:o,o:s,J:this,F:e}):fn(o.i.M,{u:o,o:s})}}),Sr=h.UnboundTypeError=Ir("UnboundTypeError");var Nr={__syscall_fcntl64:function(e,t,r){Gt=r;try{var o=Pt(e);switch(t){case 0:var s=n();if(0>s)break;for(;Ht[s];)s++;return ii(o,s).W;case 1:case 2:return 0;case 3:return o.flags;case 4:return s=n(),o.flags|=s,0;case 12:return s=n(),ze[s+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(l){if(typeof Ft>"u"||l.name!=="ErrnoError")throw l;return-l.$}},__syscall_ioctl:function(e,t,r){Gt=r;try{var o=Pt(e);switch(t){case 21509:return o.s?0:-59;case 21505:if(!o.s)return-59;if(o.s.V.Xb){e=[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var s=n();ue[s>>2]=25856,ue[s+4>>2]=5,ue[s+8>>2]=191,ue[s+12>>2]=35387;for(var l=0;32>l;l++)Te[s+l+17]=e[l]||0}return 0;case 21510:case 21511:case 21512:return o.s?0:-59;case 21506:case 21507:case 21508:if(!o.s)return-59;if(o.s.V.Yb)for(s=n(),e=[],l=0;32>l;l++)e.push(Te[s+l+17]);return 0;case 21519:return o.s?(s=n(),ue[s>>2]=0):-59;case 21520:return o.s?-28:-59;case 21531:if(s=n(),!o.m.Wb)throw new L(59);return o.m.Wb(o,t,s);case 21523:return o.s?(o.s.V.Zb&&(l=[24,80],s=n(),ze[s>>1]=l[0],ze[s+2>>1]=l[1]),0):-59;case 21524:return o.s?0:-59;case 21515:return o.s?0:-59;default:return-28}}catch(c){if(typeof Ft>"u"||c.name!=="ErrnoError")throw c;return-c.$}},__syscall_openat:function(e,t,r,o){Gt=o;try{t=t?U(be,t):"";var s=t;if(s.charAt(0)==="/")t=s;else{var l=e===-100?"/":Pt(e).path;if(s.length==0)throw new L(44);t=u(l+"/"+s)}var c=o?n():0;return ln(t,r,c).W}catch(f){if(typeof Ft>"u"||f.name!=="ErrnoError")throw f;return-f.$}},_abort_js:()=>{pt("")},_embind_create_inheriting_constructor:(e,t,r)=>{e=Fe(e),t=Qt(t,"wrapper"),r=lt(r);var o=t.i,s=o.M,l=o.C.M,c=o.C.constructor;return e=Dt(e,function(...f){o.C.pb.forEach((function(m){if(this[m]===l[m])throw new Mr(`Pure virtual function ${m} must be implemented in JavaScript`)}).bind(this)),Object.defineProperty(this,"__parent",{value:s}),this.__construct(...f)}),s.__construct=function(...f){if(this===s)throw new V("Pass correct 'this' to __construct");f=c.implement(this,...f),cn(f);var m=f.g;if(f.notifyOnDestruction(),m.ha=!0,Object.defineProperties(this,{g:{value:m}}),Wt(this),f=m.o,f=Yn(o,f),_t.hasOwnProperty(f))throw new V(`Tried to register registered instance: ${f}`);_t[f]=this},s.__destruct=function(){if(this===s)throw new V("Pass correct 'this' to __destruct");cn(this);var f=this.g.o;if(f=Yn(o,f),_t.hasOwnProperty(f))delete _t[f];else throw new V(`Tried to unregister unregistered instance: ${f}`)},e.prototype=Object.create(s),Object.assign(e.prototype,r),ct(e)},_embind_finalize_value_object:e=>{var t=dn[e];delete dn[e];var r=t.Na,o=t.O,s=t.eb,l=s.map(c=>c.Ub).concat(s.map(c=>c.kc));Xe([e],l,c=>{var f={};return s.forEach((m,v)=>{var b=c[v],I=m.Sb,F=m.Tb,p=c[v+s.length],_=m.jc,M=m.lc;f[m.Ob]={read:C=>b.fromWireType(I(F,C)),write:(C,ve)=>{var R=[];_(M,C,p.toWireType(R,ve)),qt(R)}}}),[{name:t.name,fromWireType:m=>{var v={},b;for(b in f)v[b]=f[b].read(m);return o(m),v},toWireType:(m,v)=>{for(var b in f)if(!(b in v))throw new TypeError(`Missing field: "${b}"`);var I=r();for(b in f)f[b].write(I,v[b]);return m!==null&&m.push(o,I),I},argPackAdvance:8,readValueFromPointer:en,L:o}]})},_embind_register_bigint:()=>{},_embind_register_bool:(e,t,r,o)=>{t=Fe(t),ft(e,{name:t,fromWireType:function(s){return!!s},toWireType:function(s,l){return l?r:o},argPackAdvance:8,readValueFromPointer:function(s){return this.fromWireType(be[s])},L:null})},_embind_register_class:(e,t,r,o,s,l,c,f,m,v,b,I,F)=>{b=Fe(b),l=Ve(s,l),f&&=Ve(c,f),v&&=Ve(m,v),F=Ve(I,F);var p=li(b);Qn(p,function(){At(`Cannot construct ${b} due to unbound types`,[o])}),Xe([e,t,r],o?[o]:[],_=>{if(_=_[0],o)var M=_.i,C=M.M;else C=pn.prototype;_=Dt(b,function(...ge){if(Object.getPrototypeOf(this)!==ve)throw new V("Use 'new' to construct "+b);if(R.Z===void 0)throw new V(b+" has no accessible constructor");var Ye=R.Z[ge.length];if(Ye===void 0)throw new V(`Tried to invoke ctor of ${b} with invalid number of parameters (${ge.length}) - expected (${Object.keys(R.Z).toString()}) parameters instead!`);return Ye.apply(this,ge)});var ve=Object.create(C,{constructor:{value:_}});_.prototype=ve;var R=new ci(b,_,ve,F,M,l,f,v);if(R.C){var ee;(ee=R.C).na??(ee.na=[]),R.C.na.push(R)}return M=new mn(b,R,!0,!1,!1),ee=new mn(b+"*",R,!1,!1,!1),C=new mn(b+" const*",R,!1,!0,!1),Tr[e]={pointerType:ee,Hb:C},Lr(p,_),[M,ee,C]})},_embind_register_class_class_function:(e,t,r,o,s,l,c)=>{var f=wn(r,o);t=Fe(t),t=Zn(t),l=Ve(s,l),Xe([],[e],m=>{function v(){At(`Cannot call ${b} due to unbound types`,f)}m=m[0];var b=`${m.name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]);var I=m.i.constructor;return I[t]===void 0?(v.da=r-1,I[t]=v):(Jn(I,t,b),I[t].A[r-1]=v),Xe([],f,F=>{if(F=yn(b,[F[0],null].concat(F.slice(1)),null,l,c),I[t].A===void 0?(F.da=r-1,I[t]=F):I[t].A[r-1]=F,m.i.na)for(const p of m.i.na)p.constructor.hasOwnProperty(t)||(p.constructor[t]=F);return[]}),[]})},_embind_register_class_class_property:(e,t,r,o,s,l,c,f)=>{t=Fe(t),l=Ve(s,l),Xe([],[e],m=>{m=m[0];var v=`${m.name}.${t}`,b={get(){At(`Cannot access ${v} due to unbound types`,[r])},enumerable:!0,configurable:!0};return b.set=f?()=>{At(`Cannot access ${v} due to unbound types`,[r])}:()=>{throw new V(`${v} is a read-only property`)},Object.defineProperty(m.i.constructor,t,b),Xe([],[r],I=>{I=I[0];var F={get(){return I.fromWireType(l(o))},enumerable:!0};return f&&(f=Ve(c,f),F.set=p=>{var _=[];f(o,I.toWireType(_,p)),qt(_)}),Object.defineProperty(m.i.constructor,t,F),[]}),[]})},_embind_register_class_constructor:(e,t,r,o,s,l)=>{var c=wn(t,r);s=Ve(o,s),Xe([],[e],f=>{f=f[0];var m=`constructor ${f.name}`;if(f.i.Z===void 0&&(f.i.Z=[]),f.i.Z[t-1]!==void 0)throw new V(`Cannot register multiple constructors with identical number of parameters (${t-1}) for class '${f.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return f.i.Z[t-1]=()=>{At(`Cannot construct ${f.name} due to unbound types`,c)},Xe([],c,v=>(v.splice(1,0,null),f.i.Z[t-1]=yn(m,v,null,s,l),[])),[]})},_embind_register_class_function:(e,t,r,o,s,l,c,f)=>{var m=wn(r,o);t=Fe(t),t=Zn(t),l=Ve(s,l),Xe([],[e],v=>{function b(){At(`Cannot call ${I} due to unbound types`,m)}v=v[0];var I=`${v.name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]),f&&v.i.pb.push(t);var F=v.i.M,p=F[t];return p===void 0||p.A===void 0&&p.className!==v.name&&p.da===r-2?(b.da=r-2,b.className=v.name,F[t]=b):(Jn(F,t,I),F[t].A[r-2]=b),Xe([],m,_=>(_=yn(I,_,v,l,c),F[t].A===void 0?(_.da=r-2,F[t]=_):F[t].A[r-2]=_,[])),[]})},_embind_register_class_property:(e,t,r,o,s,l,c,f,m,v)=>{t=Fe(t),s=Ve(o,s),Xe([],[e],b=>{b=b[0];var I=`${b.name}.${t}`,F={get(){At(`Cannot access ${I} due to unbound types`,[r,c])},enumerable:!0,configurable:!0};return F.set=m?()=>At(`Cannot access ${I} due to unbound types`,[r,c]):()=>{throw new V(I+" is a read-only property")},Object.defineProperty(b.i.M,t,F),Xe([],m?[r,c]:[r],p=>{var _=p[0],M={get(){var ve=jr(this,b,I+" getter");return _.fromWireType(s(l,ve))},enumerable:!0};if(m){m=Ve(f,m);var C=p[1];M.set=function(ve){var R=jr(this,b,I+" setter"),ee=[];m(v,R,C.toWireType(ee,ve)),qt(ee)}}return Object.defineProperty(b.i.M,t,M),[]}),[]})},_embind_register_emval:e=>ft(e,gi),_embind_register_enum:(e,t,r,o)=>{function s(){}t=Fe(t),s.values={},ft(e,{name:t,constructor:s,fromWireType:function(l){return this.constructor.values[l]},toWireType:(l,c)=>c.value,argPackAdvance:8,readValueFromPointer:yi(t,r,o),L:null}),Qn(t,s)},_embind_register_enum_value:(e,t,r)=>{var o=Qt(e,"enum");t=Fe(t),e=o.constructor,o=Object.create(o.constructor.prototype,{value:{value:r},constructor:{value:Dt(`${o.name}_${t}`,function(){})}}),e.values[r]=o,e[t]=o},_embind_register_float:(e,t,r)=>{t=Fe(t),ft(e,{name:t,fromWireType:o=>o,toWireType:(o,s)=>s,argPackAdvance:8,readValueFromPointer:wi(t,r),L:null})},_embind_register_function:(e,t,r,o,s,l)=>{var c=wn(t,r);e=Fe(e),e=Zn(e),s=Ve(o,s),Qn(e,function(){At(`Cannot call ${e} due to unbound types`,c)},t-1),Xe([],c,f=>(Lr(e,yn(e,[f[0],null].concat(f.slice(1)),null,s,l),t-1),[]))},_embind_register_integer:(e,t,r,o,s)=>{if(t=Fe(t),s===-1&&(s=4294967295),s=f=>f,o===0){var l=32-8*r;s=f=>f<<l>>>l}var c=t.includes("unsigned")?function(f,m){return m>>>0}:function(f,m){return m};ft(e,{name:t,fromWireType:s,toWireType:c,argPackAdvance:8,readValueFromPointer:bi(t,r,o!==0),L:null})},_embind_register_memory_view:(e,t,r)=>{function o(l){return new s(Te.buffer,Y[l+4>>2],Y[l>>2])}var s=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];r=Fe(r),ft(e,{name:r,fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{Vb:!0})},_embind_register_std_string:(e,t)=>{t=Fe(t);var r=t==="std::string";ft(e,{name:t,fromWireType:function(o){var s=Y[o>>2],l=o+4;if(r)for(var c=l,f=0;f<=s;++f){var m=l+f;if(f==s||be[m]==0){if(c=c?U(be,c,m-c):"",v===void 0)var v=c;else v+="\0",v+=c;c=m+1}}else{for(v=Array(s),f=0;f<s;++f)v[f]=String.fromCharCode(be[l+f]);v=v.join("")}return Ct(o),v},toWireType:function(o,s){s instanceof ArrayBuffer&&(s=new Uint8Array(s));var l=typeof s=="string";if(!(l||s instanceof Uint8Array||s instanceof Uint8ClampedArray||s instanceof Int8Array))throw new V("Cannot pass non-string to std::string");var c=r&&l?Be(s):s.length,f=ar(4+c+1),m=f+4;if(Y[f>>2]=c,r&&l)Ae(s,be,m,c+1);else if(l)for(l=0;l<c;++l){var v=s.charCodeAt(l);if(255<v)throw Ct(m),new V("String has UTF-16 code units that do not fit in 8 bits");be[m+l]=v}else for(l=0;l<c;++l)be[m+l]=s[l];return o!==null&&o.push(Ct,f),f},argPackAdvance:8,readValueFromPointer:en,L(o){Ct(o)}})},_embind_register_std_wstring:(e,t,r)=>{if(r=Fe(r),t===2)var o=_i,s=Ai,l=Ci,c=f=>Je[f>>1];else t===4&&(o=Ei,s=Ii,l=Mi,c=f=>Y[f>>2]);ft(e,{name:r,fromWireType:f=>{for(var m=Y[f>>2],v,b=f+4,I=0;I<=m;++I){var F=f+4+I*t;(I==m||c(F)==0)&&(b=o(b,F-b),v===void 0?v=b:(v+="\0",v+=b),b=F+t)}return Ct(f),v},toWireType:(f,m)=>{if(typeof m!="string")throw new V(`Cannot pass non-string to C++ string type ${r}`);var v=l(m),b=ar(4+v+t);return Y[b>>2]=v/t,s(m,b+4,v+t),f!==null&&f.push(Ct,b),b},argPackAdvance:8,readValueFromPointer:en,L(f){Ct(f)}})},_embind_register_value_object:(e,t,r,o,s,l)=>{dn[e]={name:Fe(t),Na:Ve(r,o),O:Ve(s,l),eb:[]}},_embind_register_value_object_field:(e,t,r,o,s,l,c,f,m,v)=>{dn[e].eb.push({Ob:Fe(t),Ub:r,Sb:Ve(o,s),Tb:l,kc:c,jc:Ve(f,m),lc:v})},_embind_register_void:(e,t)=>{t=Fe(t),ft(e,{Ic:!0,name:t,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},_emscripten_get_now_is_monotonic:()=>1,_emscripten_memcpy_js:(e,t,r)=>be.copyWithin(e,t,t+r),_emval_as:(e,t,r)=>(e=lt(e),t=Qt(t,"emval::as"),Dr(t,r,e)),_emval_call_method:(e,t,r,o,s)=>(e=nr[e],t=lt(t),r=tr(r),e(t,t[r],o,s)),_emval_decref:qn,_emval_get_method_caller:(e,t,r)=>{var o=Fi(e,t),s=o.shift();e--;var l=Array(e);return t=`methodCaller<(${o.map(c=>c.name).join(", ")}) => ${s.name}>`,Ri(Dt(t,(c,f,m,v)=>{for(var b=0,I=0;I<e;++I)l[I]=o[I].readValueFromPointer(v+b),b+=o[I].argPackAdvance;return c=r===1?Ti(f,l):f.apply(c,l),Dr(s,m,c)}))},_emval_get_module_property:e=>(e=tr(e),ct(h[e])),_emval_get_property:(e,t)=>(e=lt(e),t=lt(t),ct(e[t])),_emval_incref:e=>{9<e&&(bt[e+1]+=1)},_emval_new_array:()=>ct([]),_emval_new_cstring:e=>ct(tr(e)),_emval_new_object:()=>ct({}),_emval_run_destructors:e=>{var t=lt(e);qt(t),qn(e)},_emval_set_property:(e,t,r)=>{e=lt(e),t=lt(t),r=lt(r),e[t]=r},_emval_take_value:(e,t)=>(e=Qt(e,"_emval_take_value"),e=e.readValueFromPointer(t),ct(e)),emscripten_asm_const_int:(e,t,r)=>{rr.length=0;for(var o;o=be[t++];){var s=o!=105;s&=o!=112,r+=s&&r%8?4:0,rr.push(o==112?Y[r>>2]:o==105?ue[r>>2]:st[r>>3]),r+=s?8:4}return zt[e](...rr)},emscripten_date_now:()=>Date.now(),emscripten_get_now:()=>performance.now(),emscripten_resize_heap:e=>{var t=be.length;if(e>>>=0,2147483648<e)return!1;for(var r=1;4>=r;r*=2){var o=t*(1+.2/r);o=Math.min(o,e+100663296);var s=Math;o=Math.max(e,o);e:{s=(s.min.call(s,2147483648,o+(65536-o%65536)%65536)-tt.buffer.byteLength+65535)/65536;try{tt.grow(s),ye();var l=1;break e}catch{}l=void 0}if(l)return!0}return!1},environ_get:(e,t)=>{var r=0;return Wr().forEach((o,s)=>{var l=t+r;for(s=Y[e+4*s>>2]=l,l=0;l<o.length;++l)Te[s++]=o.charCodeAt(l);Te[s]=0,r+=o.length+1}),0},environ_sizes_get:(e,t)=>{var r=Wr();Y[e>>2]=r.length;var o=0;return r.forEach(s=>o+=s.length+1),Y[t>>2]=o,0},fd_close:function(e){try{var t=Pt(e);if(t.W===null)throw new L(8);t.Ka&&(t.Ka=null);try{t.m.close&&t.m.close(t)}catch(r){throw r}finally{Ht[t.W]=null}return t.W=null,0}catch(r){if(typeof Ft>"u"||r.name!=="ErrnoError")throw r;return r.$}},fd_read:function(e,t,r,o){try{e:{var s=Pt(e);e=t;for(var l,c=t=0;c<r;c++){var f=Y[e>>2],m=Y[e+4>>2];e+=8;var v=s,b=l,I=Te;if(0>m||0>b)throw new L(28);if(v.W===null)throw new L(8);if((v.flags&2097155)===1)throw new L(8);if((v.node.mode&61440)===16384)throw new L(31);if(!v.m.read)throw new L(28);var F=typeof b<"u";if(!F)b=v.position;else if(!v.seekable)throw new L(70);var p=v.m.read(v,I,f,m,b);F||(v.position+=p);var _=p;if(0>_){var M=-1;break e}if(t+=_,_<m)break;typeof l<"u"&&(l+=_)}M=t}return Y[o>>2]=M,0}catch(C){if(typeof Ft>"u"||C.name!=="ErrnoError")throw C;return C.$}},fd_seek:function(e,t,r,o,s){t=r+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*r:NaN;try{if(isNaN(t))return 61;var l=Pt(e);return Ar(l,t,o),mt=[l.position>>>0,(rt=l.position,1<=+Math.abs(rt)?0<rt?+Math.floor(rt/4294967296)>>>0:~~+Math.ceil((rt-+(~~rt>>>0))/4294967296)>>>0:0)],ue[s>>2]=mt[0],ue[s+4>>2]=mt[1],l.Ka&&t===0&&o===0&&(l.Ka=null),0}catch(c){if(typeof Ft>"u"||c.name!=="ErrnoError")throw c;return c.$}},fd_write:function(e,t,r,o){try{e:{var s=Pt(e);e=t;for(var l,c=t=0;c<r;c++){var f=Y[e>>2],m=Y[e+4>>2];e+=8;var v=s,b=f,I=m,F=l,p=Te;if(0>I||0>F)throw new L(28);if(v.W===null)throw new L(8);if((v.flags&2097155)===0)throw new L(8);if((v.node.mode&61440)===16384)throw new L(31);if(!v.m.write)throw new L(28);v.seekable&&v.flags&1024&&Ar(v,0,2);var _=typeof F<"u";if(!_)F=v.position;else if(!v.seekable)throw new L(70);var M=v.m.write(v,p,b,I,F,void 0);_||(v.position+=M);var C=M;if(0>C){var ve=-1;break e}t+=C,typeof l<"u"&&(l+=C)}ve=t}return Y[o>>2]=ve,0}catch(R){if(typeof Ft>"u"||R.name!=="ErrnoError")throw R;return R.$}},strftime_l:(e,t,r,o)=>Li(e,t,r,o)},Me=(function(){function e(r){return Me=r.exports,tt=Me.memory,ye(),Or=Me.__indirect_function_table,We.unshift(Me.__wasm_call_ctors),Ne--,h.monitorRunDependencies?.(Ne),Ne==0&&nt&&(r=nt,nt=null,r()),Me}var t={env:Nr,wasi_snapshot_preview1:Nr};if(Ne++,h.monitorRunDependencies?.(Ne),h.instantiateWasm)try{return h.instantiateWasm(t,e)}catch(r){me(`Module.instantiateWasm callback failed with error: ${r}`),Re(r)}return Ce||=vt("canvas_advanced.wasm")?"canvas_advanced.wasm":h.locateFile?h.locateFile("canvas_advanced.wasm",Q):Q+"canvas_advanced.wasm",$t(t,function(r){e(r.instance)}).catch(Re),{}})(),Ct=e=>(Ct=Me.free)(e),ar=e=>(ar=Me.malloc)(e),$r=e=>($r=Me.__getTypeName)(e),zr=h._ma_device__on_notification_unlocked=e=>(zr=h._ma_device__on_notification_unlocked=Me.ma_device__on_notification_unlocked)(e);h._ma_malloc_emscripten=(e,t)=>(h._ma_malloc_emscripten=Me.ma_malloc_emscripten)(e,t),h._ma_free_emscripten=(e,t)=>(h._ma_free_emscripten=Me.ma_free_emscripten)(e,t);var Hr=h._ma_device_process_pcm_frames_capture__webaudio=(e,t,r)=>(Hr=h._ma_device_process_pcm_frames_capture__webaudio=Me.ma_device_process_pcm_frames_capture__webaudio)(e,t,r),Xr=h._ma_device_process_pcm_frames_playback__webaudio=(e,t,r)=>(Xr=h._ma_device_process_pcm_frames_playback__webaudio=Me.ma_device_process_pcm_frames_playback__webaudio)(e,t,r);h.dynCall_iiji=(e,t,r,o,s)=>(h.dynCall_iiji=Me.dynCall_iiji)(e,t,r,o,s),h.dynCall_jiji=(e,t,r,o,s)=>(h.dynCall_jiji=Me.dynCall_jiji)(e,t,r,o,s),h.dynCall_iiiji=(e,t,r,o,s,l)=>(h.dynCall_iiiji=Me.dynCall_iiiji)(e,t,r,o,s,l),h.dynCall_iij=(e,t,r,o)=>(h.dynCall_iij=Me.dynCall_iij)(e,t,r,o),h.dynCall_jii=(e,t,r)=>(h.dynCall_jii=Me.dynCall_jii)(e,t,r),h.dynCall_viijii=(e,t,r,o,s,l,c)=>(h.dynCall_viijii=Me.dynCall_viijii)(e,t,r,o,s,l,c),h.dynCall_iiiiij=(e,t,r,o,s,l,c)=>(h.dynCall_iiiiij=Me.dynCall_iiiiij)(e,t,r,o,s,l,c),h.dynCall_iiiiijj=(e,t,r,o,s,l,c,f,m)=>(h.dynCall_iiiiijj=Me.dynCall_iiiiijj)(e,t,r,o,s,l,c,f,m),h.dynCall_iiiiiijj=(e,t,r,o,s,l,c,f,m,v)=>(h.dynCall_iiiiiijj=Me.dynCall_iiiiiijj)(e,t,r,o,s,l,c,f,m,v);var An;nt=function e(){An||Yr(),An||(nt=e)};function Yr(){function e(){if(!An&&(An=!0,h.calledRun=!0,!De)){if(h.noFSInit||Cr||(Cr=!0,h.stdin=h.stdin,h.stdout=h.stdout,h.stderr=h.stderr,h.stdin?Yt("stdin",h.stdin):$n("/dev/tty","/dev/stdin"),h.stdout?Yt("stdout",null,h.stdout):$n("/dev/tty","/dev/stdout"),h.stderr?Yt("stderr",null,h.stderr):$n("/dev/tty1","/dev/stderr"),ln("/dev/stdin",0),ln("/dev/stdout",1),ln("/dev/stderr",1)),pr=!1,a(We),Oe(h),h.onRuntimeInitialized&&h.onRuntimeInitialized(),h.postRun)for(typeof h.postRun=="function"&&(h.postRun=[h.postRun]);h.postRun.length;){var t=h.postRun.shift();Et.unshift(t)}a(Et)}}if(!(0<Ne)){if(h.preRun)for(typeof h.preRun=="function"&&(h.preRun=[h.preRun]);h.preRun.length;)jt();a(Qe),0<Ne||(h.setStatus?(h.setStatus("Running..."),setTimeout(function(){setTimeout(function(){h.setStatus("")},1),e()},1)):e())}}if(h.preInit)for(typeof h.preInit=="function"&&(h.preInit=[h.preInit]);0<h.preInit.length;)h.preInit.pop()();return Yr(),$=he,$})})();const oe=H}),(de=>{de.exports=JSON.parse(`{"name":"@rive-app/canvas","version":"2.32.0","description":"Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive_fallback.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)}),((de,ne,G)=>{G.r(ne),G.d(ne,{Animation:()=>H.Animation});var H=G(4)}),((de,ne,G)=>{G.r(ne),G.d(ne,{Animation:()=>H});var H=(function(){function oe(ae,x,$,h){this.animation=ae,this.artboard=x,this.playing=h,this.loopCount=0,this.scrubTo=null,this.instance=new $.LinearAnimationInstance(ae,x)}return Object.defineProperty(oe.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(oe.prototype,"time",{get:function(){return this.instance.time},set:function(ae){this.instance.time=ae},enumerable:!1,configurable:!0}),Object.defineProperty(oe.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),Object.defineProperty(oe.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),oe.prototype.advance=function(ae){this.scrubTo===null?this.instance.advance(ae):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},oe.prototype.apply=function(ae){this.instance.apply(ae)},oe.prototype.cleanup=function(){this.instance.delete()},oe})()}),((de,ne,G)=>{G.r(ne),G.d(ne,{AudioAssetWrapper:()=>ae.AudioAssetWrapper,AudioWrapper:()=>ae.AudioWrapper,BLANK_URL:()=>oe.BLANK_URL,CustomFileAssetLoaderWrapper:()=>ae.CustomFileAssetLoaderWrapper,FileAssetWrapper:()=>ae.FileAssetWrapper,FileFinalizer:()=>ae.FileFinalizer,FontAssetWrapper:()=>ae.FontAssetWrapper,FontWrapper:()=>ae.FontWrapper,ImageAssetWrapper:()=>ae.ImageAssetWrapper,ImageWrapper:()=>ae.ImageWrapper,createFinalization:()=>ae.createFinalization,finalizationRegistry:()=>ae.finalizationRegistry,registerTouchInteractions:()=>H.registerTouchInteractions,sanitizeUrl:()=>oe.sanitizeUrl});var H=G(6),oe=G(7),ae=G(8)}),((de,ne,G)=>{G.r(ne),G.d(ne,{registerTouchInteractions:()=>ae});var H=void 0,oe=function(x,$,h){var Oe,Re,he=[];if(["touchstart","touchmove"].indexOf(x.type)>-1&&(!((Oe=x.changedTouches)===null||Oe===void 0)&&Oe.length)){$||x.preventDefault();for(var se=0,Ee=h?x.changedTouches.length:1;se<Ee;){var ce=x.changedTouches[se];he.push({clientX:ce.clientX,clientY:ce.clientY,identifier:ce.identifier}),se++}}else if(x.type==="touchend"&&(!((Re=x.changedTouches)===null||Re===void 0)&&Re.length))for(var se=0,Ee=h?x.changedTouches.length:1;se<Ee;){var ce=x.changedTouches[se];he.push({clientX:ce.clientX,clientY:ce.clientY,identifier:ce.identifier}),se++}else he.push({clientX:x.clientX,clientY:x.clientY,identifier:0});return he},ae=function(x){var $=x.canvas,h=x.artboard,Oe=x.stateMachines,Re=Oe===void 0?[]:Oe,he=x.renderer,se=x.rive,Ee=x.fit,ce=x.alignment,_e=x.isTouchScrollEnabled,ke=_e===void 0?!1:_e,Ge=x.dispatchPointerExit,Ke=Ge===void 0?!0:Ge,P=x.enableMultiTouch,T=P===void 0?!1:P,K=x.layoutScaleFactor,Q=K===void 0?1:K;if(!$||!Re.length||!he||!se||!h||typeof window>"u")return null;var D=null,xe=!1,ht=function(Ie){if(xe&&Ie instanceof MouseEvent){Ie.type=="mouseup"&&(xe=!1);return}xe=ke&&Ie.type==="touchend"&&D==="touchstart",D=Ie.type;var tt=Ie.currentTarget.getBoundingClientRect(),De=oe(Ie,ke,T),Te=se.computeAlignment(Ee,ce,{minX:0,minY:0,maxX:tt.width,maxY:tt.height},h.bounds,Q),be=new se.Mat2D;switch(Te.invert(be),De.forEach(function(Ce){var Z=Ce.clientX,xt=Ce.clientY;if(!(!Z&&!xt)){var Ue=Z-tt.left,$t=xt-tt.top,rt=new se.Vec2D(Ue,$t),mt=se.mapXY(be,rt),zt=mt.x(),a=mt.y();Ce.transformedX=zt,Ce.transformedY=a,mt.delete(),rt.delete()}}),be.delete(),Te.delete(),Ie.type){case"mouseout":for(var ze=function(Ce){Ke?De.forEach(function(Z){Ce.pointerExit(Z.transformedX,Z.transformedY,Z.identifier)}):De.forEach(function(Z){Ce.pointerMove(Z.transformedX,Z.transformedY,Z.identifier)})},Je=0,ue=Re;Je<ue.length;Je++){var Y=ue[Je];ze(Y)}break;case"touchmove":case"mouseover":case"mousemove":{for(var at=function(Ce){De.forEach(function(Z){Ce.pointerMove(Z.transformedX,Z.transformedY,Z.identifier)})},st=0,ye=Re;st<ye.length;st++){var Y=ye[st];at(Y)}break}case"touchstart":case"mousedown":{for(var Qe=function(Ce){De.forEach(function(Z){Ce.pointerDown(Z.transformedX,Z.transformedY,Z.identifier)})},We=0,Et=Re;We<Et.length;We++){var Y=Et[We];Qe(Y)}break}case"touchend":{for(var jt=function(Ce){De.forEach(function(Z){Ce.pointerUp(Z.transformedX,Z.transformedY,Z.identifier),Ce.pointerExit(Z.transformedX,Z.transformedY,Z.identifier)})},Ne=0,nt=Re;Ne<nt.length;Ne++){var Y=nt[Ne];jt(Y)}break}case"mouseup":{for(var pt=function(Ce){De.forEach(function(Z){Ce.pointerUp(Z.transformedX,Z.transformedY,Z.identifier)})},vt=0,It=Re;vt<It.length;vt++){var Y=It[vt];pt(Y)}break}}},me=ht.bind(H);return $.addEventListener("mouseover",me),$.addEventListener("mouseout",me),$.addEventListener("mousemove",me),$.addEventListener("mousedown",me),$.addEventListener("mouseup",me),$.addEventListener("touchmove",me,{passive:ke}),$.addEventListener("touchstart",me,{passive:ke}),$.addEventListener("touchend",me),function(){$.removeEventListener("mouseover",me),$.removeEventListener("mouseout",me),$.removeEventListener("mousemove",me),$.removeEventListener("mousedown",me),$.removeEventListener("mouseup",me),$.removeEventListener("touchmove",me),$.removeEventListener("touchstart",me),$.removeEventListener("touchend",me)}}}),((de,ne,G)=>{G.r(ne),G.d(ne,{BLANK_URL:()=>Oe,sanitizeUrl:()=>se});var H=/^([^\w]*)(javascript|data|vbscript)/im,oe=/&#(\w+)(^\w|;)?/g,ae=/&(newline|tab);/gi,x=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,$=/^.+(:|&colon;)/gim,h=[".","/"],Oe="about:blank";function Re(Ee){return h.indexOf(Ee[0])>-1}function he(Ee){var ce=Ee.replace(x,"");return ce.replace(oe,function(_e,ke){return String.fromCharCode(ke)})}function se(Ee){if(!Ee)return Oe;var ce=he(Ee).replace(ae,"").replace(x,"").trim();if(!ce)return Oe;if(Re(ce))return ce;var _e=ce.match($);if(!_e)return ce;var ke=_e[0];return H.test(ke)?Oe:ce}}),((de,ne,G)=>{G.r(ne),G.d(ne,{AudioAssetWrapper:()=>Ee,AudioWrapper:()=>h,CustomFileAssetLoaderWrapper:()=>Re,FileAssetWrapper:()=>he,FileFinalizer:()=>oe,FontAssetWrapper:()=>ce,FontWrapper:()=>Oe,ImageAssetWrapper:()=>se,ImageWrapper:()=>$,createFinalization:()=>Ke,finalizationRegistry:()=>Ge});var H=(function(){var P=function(T,K){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Q,D){Q.__proto__=D}||function(Q,D){for(var xe in D)Object.prototype.hasOwnProperty.call(D,xe)&&(Q[xe]=D[xe])},P(T,K)};return function(T,K){if(typeof K!="function"&&K!==null)throw new TypeError("Class extends value "+String(K)+" is not a constructor or null");P(T,K);function Q(){this.constructor=T}T.prototype=K===null?Object.create(K):(Q.prototype=K.prototype,new Q)}})(),oe=(function(){function P(T){this.selfUnref=!1,this._file=T}return P.prototype.unref=function(){this._file&&this._file.unref()},P})(),ae=(function(){function P(T){this._finalizableObject=T}return P.prototype.unref=function(){this._finalizableObject.unref()},P})(),x=(function(){function P(){this.selfUnref=!1}return P.prototype.unref=function(){},P})(),$=(function(P){H(T,P);function T(K){var Q=P.call(this)||this;return Q._nativeImage=K,Q}return Object.defineProperty(T.prototype,"nativeImage",{get:function(){return this._nativeImage},enumerable:!1,configurable:!0}),T.prototype.unref=function(){this.selfUnref&&this._nativeImage.unref()},T})(x),h=(function(P){H(T,P);function T(K){var Q=P.call(this)||this;return Q._nativeAudio=K,Q}return Object.defineProperty(T.prototype,"nativeAudio",{get:function(){return this._nativeAudio},enumerable:!1,configurable:!0}),T.prototype.unref=function(){this.selfUnref&&this._nativeAudio.unref()},T})(x),Oe=(function(P){H(T,P);function T(K){var Q=P.call(this)||this;return Q._nativeFont=K,Q}return Object.defineProperty(T.prototype,"nativeFont",{get:function(){return this._nativeFont},enumerable:!1,configurable:!0}),T.prototype.unref=function(){this.selfUnref&&this._nativeFont.unref()},T})(x),Re=(function(){function P(T,K){this._assetLoaderCallback=K,this.assetLoader=new T.CustomFileAssetLoader({loadContents:this.loadContents.bind(this)})}return P.prototype.loadContents=function(T,K){var Q;return T.isImage?Q=new se(T):T.isAudio?Q=new Ee(T):T.isFont&&(Q=new ce(T)),this._assetLoaderCallback(Q,K)},P})(),he=(function(){function P(T){this._nativeFileAsset=T}return P.prototype.decode=function(T){this._nativeFileAsset.decode(T)},Object.defineProperty(P.prototype,"name",{get:function(){return this._nativeFileAsset.name},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"fileExtension",{get:function(){return this._nativeFileAsset.fileExtension},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"uniqueFilename",{get:function(){return this._nativeFileAsset.uniqueFilename},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isAudio",{get:function(){return this._nativeFileAsset.isAudio},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isImage",{get:function(){return this._nativeFileAsset.isImage},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isFont",{get:function(){return this._nativeFileAsset.isFont},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"cdnUuid",{get:function(){return this._nativeFileAsset.cdnUuid},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"nativeFileAsset",{get:function(){return this._nativeFileAsset},enumerable:!1,configurable:!0}),P})(),se=(function(P){H(T,P);function T(){return P!==null&&P.apply(this,arguments)||this}return T.prototype.setRenderImage=function(K){this._nativeFileAsset.setRenderImage(K.nativeImage)},T})(he),Ee=(function(P){H(T,P);function T(){return P!==null&&P.apply(this,arguments)||this}return T.prototype.setAudioSource=function(K){this._nativeFileAsset.setAudioSource(K.nativeAudio)},T})(he),ce=(function(P){H(T,P);function T(){return P!==null&&P.apply(this,arguments)||this}return T.prototype.setFont=function(K){this._nativeFileAsset.setFont(K.nativeFont)},T})(he),_e=(function(){function P(T){}return P.prototype.register=function(T){T.selfUnref=!0},P.prototype.unregister=function(T){},P})(),ke=typeof FinalizationRegistry<"u"?FinalizationRegistry:_e,Ge=new ke(function(P){P?.unref()}),Ke=function(P,T){var K=new ae(T);Ge.register(P,K)}})],j={};function X(de){var ne=j[de];if(ne!==void 0)return ne.exports;var G=j[de]={exports:{}};return A[de](G,G.exports,X),G.exports}X.d=(de,ne)=>{for(var G in ne)X.o(ne,G)&&!X.o(de,G)&&Object.defineProperty(de,G,{enumerable:!0,get:ne[G]})},X.o=(de,ne)=>Object.prototype.hasOwnProperty.call(de,ne),X.r=de=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(de,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(de,"__esModule",{value:!0})};var we={};return(()=>{X.r(we),X.d(we,{Alignment:()=>se,DataEnum:()=>st,EventType:()=>D,Fit:()=>he,Layout:()=>Ee,LoopType:()=>xe,Rive:()=>Y,RiveEventType:()=>Ge,RiveFile:()=>ue,RuntimeLoader:()=>ce,StateMachineInput:()=>ke,StateMachineInputType:()=>_e,Testing:()=>$t,ViewModel:()=>at,ViewModelInstance:()=>Qe,ViewModelInstanceArtboard:()=>Z,ViewModelInstanceAssetImage:()=>Ce,ViewModelInstanceBoolean:()=>Ne,ViewModelInstanceColor:()=>It,ViewModelInstanceEnum:()=>pt,ViewModelInstanceList:()=>vt,ViewModelInstanceNumber:()=>jt,ViewModelInstanceString:()=>Et,ViewModelInstanceTrigger:()=>nt,ViewModelInstanceValue:()=>We,decodeAudio:()=>rt,decodeFont:()=>zt,decodeImage:()=>mt});var de=X(1),ne=X(2),G=X(3),H=X(5),oe=(function(){var a=function(n,i){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&(u[g]=d[g])},a(n,i)};return function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");a(n,i);function u(){this.constructor=n}n.prototype=i===null?Object.create(i):(u.prototype=i.prototype,new u)}})(),ae=function(){return ae=Object.assign||function(a){for(var n,i=1,u=arguments.length;i<u;i++){n=arguments[i];for(var d in n)Object.prototype.hasOwnProperty.call(n,d)&&(a[d]=n[d])}return a},ae.apply(this,arguments)},x=function(a,n,i,u){function d(g){return g instanceof i?g:new i(function(w){w(g)})}return new(i||(i=Promise))(function(g,w){function S(U){try{O(u.next(U))}catch(pe){w(pe)}}function W(U){try{O(u.throw(U))}catch(pe){w(pe)}}function O(U){U.done?g(U.value):d(U.value).then(S,W)}O((u=u.apply(a,n||[])).next())})},$=function(a,n){var i={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},u,d,g,w=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return w.next=S(0),w.throw=S(1),w.return=S(2),typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function S(O){return function(U){return W([O,U])}}function W(O){if(u)throw new TypeError("Generator is already executing.");for(;w&&(w=0,O[0]&&(i=0)),i;)try{if(u=1,d&&(g=O[0]&2?d.return:O[0]?d.throw||((g=d.return)&&g.call(d),0):d.next)&&!(g=g.call(d,O[1])).done)return g;switch(d=0,g&&(O=[O[0]&2,g.value]),O[0]){case 0:case 1:g=O;break;case 4:return i.label++,{value:O[1],done:!1};case 5:i.label++,d=O[1],O=[0];continue;case 7:O=i.ops.pop(),i.trys.pop();continue;default:if(g=i.trys,!(g=g.length>0&&g[g.length-1])&&(O[0]===6||O[0]===2)){i=0;continue}if(O[0]===3&&(!g||O[1]>g[0]&&O[1]<g[3])){i.label=O[1];break}if(O[0]===6&&i.label<g[1]){i.label=g[1],g=O;break}if(g&&i.label<g[2]){i.label=g[2],i.ops.push(O);break}g[2]&&i.ops.pop(),i.trys.pop();continue}O=n.call(a,i)}catch(U){O=[6,U],d=0}finally{u=g=0}if(O[0]&5)throw O[1];return{value:O[0]?O[1]:void 0,done:!0}}},h=function(a,n,i){if(i||arguments.length===2)for(var u=0,d=n.length,g;u<d;u++)(g||!(u in n))&&(g||(g=Array.prototype.slice.call(n,0,u)),g[u]=n[u]);return a.concat(g||Array.prototype.slice.call(n))},Oe=(function(a){oe(n,a);function n(){var i=a!==null&&a.apply(this,arguments)||this;return i.isHandledError=!0,i}return n})(Error),Re=function(a){return a&&a.isHandledError?a.message:"Problem loading file; may be corrupt!"},he;(function(a){a.Cover="cover",a.Contain="contain",a.Fill="fill",a.FitWidth="fitWidth",a.FitHeight="fitHeight",a.None="none",a.ScaleDown="scaleDown",a.Layout="layout"})(he||(he={}));var se;(function(a){a.Center="center",a.TopLeft="topLeft",a.TopCenter="topCenter",a.TopRight="topRight",a.CenterLeft="centerLeft",a.CenterRight="centerRight",a.BottomLeft="bottomLeft",a.BottomCenter="bottomCenter",a.BottomRight="bottomRight"})(se||(se={}));var Ee=(function(){function a(n){var i,u,d,g,w,S,W;this.fit=(i=n?.fit)!==null&&i!==void 0?i:he.Contain,this.alignment=(u=n?.alignment)!==null&&u!==void 0?u:se.Center,this.layoutScaleFactor=(d=n?.layoutScaleFactor)!==null&&d!==void 0?d:1,this.minX=(g=n?.minX)!==null&&g!==void 0?g:0,this.minY=(w=n?.minY)!==null&&w!==void 0?w:0,this.maxX=(S=n?.maxX)!==null&&S!==void 0?S:0,this.maxY=(W=n?.maxY)!==null&&W!==void 0?W:0}return a.new=function(n){var i=n.fit,u=n.alignment,d=n.minX,g=n.minY,w=n.maxX,S=n.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new a({fit:i,alignment:u,minX:d,minY:g,maxX:w,maxY:S})},a.prototype.copyWith=function(n){var i=n.fit,u=n.alignment,d=n.layoutScaleFactor,g=n.minX,w=n.minY,S=n.maxX,W=n.maxY;return new a({fit:i??this.fit,alignment:u??this.alignment,layoutScaleFactor:d??this.layoutScaleFactor,minX:g??this.minX,minY:w??this.minY,maxX:S??this.maxX,maxY:W??this.maxY})},a.prototype.runtimeFit=function(n){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var i;return this.fit===he.Cover?i=n.Fit.cover:this.fit===he.Contain?i=n.Fit.contain:this.fit===he.Fill?i=n.Fit.fill:this.fit===he.FitWidth?i=n.Fit.fitWidth:this.fit===he.FitHeight?i=n.Fit.fitHeight:this.fit===he.ScaleDown?i=n.Fit.scaleDown:this.fit===he.Layout?i=n.Fit.layout:i=n.Fit.none,this.cachedRuntimeFit=i,i},a.prototype.runtimeAlignment=function(n){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var i;return this.alignment===se.TopLeft?i=n.Alignment.topLeft:this.alignment===se.TopCenter?i=n.Alignment.topCenter:this.alignment===se.TopRight?i=n.Alignment.topRight:this.alignment===se.CenterLeft?i=n.Alignment.centerLeft:this.alignment===se.CenterRight?i=n.Alignment.centerRight:this.alignment===se.BottomLeft?i=n.Alignment.bottomLeft:this.alignment===se.BottomCenter?i=n.Alignment.bottomCenter:this.alignment===se.BottomRight?i=n.Alignment.bottomRight:i=n.Alignment.center,this.cachedRuntimeAlignment=i,i},a})(),ce=(function(){function a(){}return a.loadRuntime=function(){de.default({locateFile:function(){return a.wasmURL}}).then(function(n){var i;for(a.runtime=n;a.callBackQueue.length>0;)(i=a.callBackQueue.shift())===null||i===void 0||i(a.runtime)}).catch(function(n){var i={message:n?.message||"Unknown error",type:n?.name||"Error",wasmError:n instanceof WebAssembly.CompileError||n instanceof WebAssembly.RuntimeError,originalError:n};console.debug("Rive WASM load error details:",i);var u="https://cdn.jsdelivr.net/npm/".concat(ne.name,"@").concat(ne.version,"/rive_fallback.wasm");if(a.wasmURL.toLowerCase()!==u)console.warn("Failed to load WASM from ".concat(a.wasmURL," (").concat(i.message,"), trying jsdelivr as a backup")),a.setWasmUrl(u),a.loadRuntime();else{var d=["Could not load Rive WASM file from ".concat(a.wasmURL," or ").concat(u,"."),"Possible reasons:","- Network connection is down","- WebAssembly is not supported in this environment","- The WASM file is corrupted or incompatible",`
Error details:`,"- Type: ".concat(i.type),"- Message: ".concat(i.message),"- WebAssembly-specific error: ".concat(i.wasmError),`
To resolve, you may need to:`,"1. Check your network connection","2. Set a new WASM source via RuntimeLoader.setWasmUrl()","3. Call RuntimeLoader.loadRuntime() again"].join(`
`);console.error(d)}})},a.getInstance=function(n){a.isLoading||(a.isLoading=!0,a.loadRuntime()),a.runtime?n(a.runtime):a.callBackQueue.push(n)},a.awaitInstance=function(){return new Promise(function(n){return a.getInstance(function(i){return n(i)})})},a.setWasmUrl=function(n){a.wasmURL=n},a.getWasmUrl=function(){return a.wasmURL},a.isLoading=!1,a.callBackQueue=[],a.wasmURL="https://unpkg.com/".concat(ne.name,"@").concat(ne.version,"/rive.wasm"),a})(),_e;(function(a){a[a.Number=56]="Number",a[a.Trigger=58]="Trigger",a[a.Boolean=59]="Boolean"})(_e||(_e={}));var ke=(function(){function a(n,i){this.type=n,this.runtimeInput=i}return Object.defineProperty(a.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(n){this.runtimeInput.value=n},enumerable:!1,configurable:!0}),a.prototype.fire=function(){this.type===_e.Trigger&&this.runtimeInput.fire()},a.prototype.delete=function(){this.runtimeInput=null},a})(),Ge;(function(a){a[a.General=128]="General",a[a.OpenUrl=131]="OpenUrl"})(Ge||(Ge={}));var Ke=(function(){function a(n){this.isBindableArtboard=!1,this.isBindableArtboard=n}return a})(),P=(function(a){oe(n,a);function n(i,u){var d=a.call(this,!1)||this;return d.nativeArtboard=i,d.file=u,d}return n})(Ke),T=(function(a){oe(n,a);function n(i){var u=a.call(this,!0)||this;return u.selfUnref=!1,u.nativeArtboard=i,u}return n.prototype.destroy=function(){this.selfUnref&&this.nativeArtboard.unref()},n})(Ke),K=(function(){function a(n,i,u,d){this.stateMachine=n,this.playing=u,this.artboard=d,this.inputs=[],this.instance=new i.StateMachineInstance(n,d),this.initInputs(i)}return Object.defineProperty(a.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"statesChanged",{get:function(){for(var n=[],i=0;i<this.instance.stateChangedCount();i++)n.push(this.instance.stateChangedNameByIndex(i));return n},enumerable:!1,configurable:!0}),a.prototype.advance=function(n){this.instance.advance(n)},a.prototype.advanceAndApply=function(n){this.instance.advanceAndApply(n)},a.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},a.prototype.reportedEventAt=function(n){return this.instance.reportedEventAt(n)},a.prototype.initInputs=function(n){for(var i=0;i<this.instance.inputCount();i++){var u=this.instance.input(i);this.inputs.push(this.mapRuntimeInput(u,n))}},a.prototype.mapRuntimeInput=function(n,i){if(n.type===i.SMIInput.bool)return new ke(_e.Boolean,n.asBool());if(n.type===i.SMIInput.number)return new ke(_e.Number,n.asNumber());if(n.type===i.SMIInput.trigger)return new ke(_e.Trigger,n.asTrigger())},a.prototype.cleanup=function(){this.inputs.forEach(function(n){n.delete()}),this.inputs.length=0,this.instance.delete()},a.prototype.bindViewModelInstance=function(n){n.runtimeInstance!=null&&this.instance.bindViewModelInstance(n.runtimeInstance)},a})(),Q=(function(){function a(n,i,u,d,g){d===void 0&&(d=[]),g===void 0&&(g=[]),this.runtime=n,this.artboard=i,this.eventManager=u,this.animations=d,this.stateMachines=g}return a.prototype.add=function(n,i,u){if(u===void 0&&(u=!0),n=Ue(n),n.length===0)this.animations.forEach(function(Ae){return Ae.playing=i}),this.stateMachines.forEach(function(Ae){return Ae.playing=i});else for(var d=this.animations.map(function(Ae){return Ae.name}),g=this.stateMachines.map(function(Ae){return Ae.name}),w=0;w<n.length;w++){var S=d.indexOf(n[w]),W=g.indexOf(n[w]);if(S>=0||W>=0)S>=0?this.animations[S].playing=i:this.stateMachines[W].playing=i;else{var O=this.artboard.animationByName(n[w]);if(O){var U=new G.Animation(O,this.artboard,this.runtime,i);U.advance(0),U.apply(1),this.animations.push(U)}else{var pe=this.artboard.stateMachineByName(n[w]);if(pe){var Be=new K(pe,this.runtime,i,this.artboard);this.stateMachines.push(Be)}}}}return u&&(i?this.eventManager.fire({type:D.Play,data:this.playing}):this.eventManager.fire({type:D.Pause,data:this.paused})),i?this.playing:this.paused},a.prototype.initLinearAnimations=function(n,i){for(var u=this.animations.map(function(W){return W.name}),d=0;d<n.length;d++){var g=u.indexOf(n[d]);if(g>=0)this.animations[g].playing=i;else{var w=this.artboard.animationByName(n[d]);if(w){var S=new G.Animation(w,this.artboard,this.runtime,i);S.advance(0),S.apply(1),this.animations.push(S)}else console.error("Animation with name ".concat(n[d]," not found."))}}},a.prototype.initStateMachines=function(n,i){for(var u=this.stateMachines.map(function(W){return W.name}),d=0;d<n.length;d++){var g=u.indexOf(n[d]);if(g>=0)this.stateMachines[g].playing=i;else{var w=this.artboard.stateMachineByName(n[d]);if(w){var S=new K(w,this.runtime,i,this.artboard);this.stateMachines.push(S)}else console.warn("State Machine with name ".concat(n[d]," not found.")),this.initLinearAnimations([n[d]],i)}}},a.prototype.play=function(n){return this.add(n,!0)},a.prototype.advanceIfPaused=function(){this.stateMachines.forEach(function(n){n.playing||n.advanceAndApply(0)})},a.prototype.pause=function(n){return this.add(n,!1)},a.prototype.scrub=function(n,i){var u=this.animations.filter(function(d){return n.includes(d.name)});return u.forEach(function(d){return d.scrubTo=i}),u.map(function(d){return d.name})},Object.defineProperty(a.prototype,"playing",{get:function(){return this.animations.filter(function(n){return n.playing}).map(function(n){return n.name}).concat(this.stateMachines.filter(function(n){return n.playing}).map(function(n){return n.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"paused",{get:function(){return this.animations.filter(function(n){return!n.playing}).map(function(n){return n.name}).concat(this.stateMachines.filter(function(n){return!n.playing}).map(function(n){return n.name}))},enumerable:!1,configurable:!0}),a.prototype.stop=function(n){var i=this;n=Ue(n);var u=[];if(n.length===0)u=this.animations.map(function(w){return w.name}).concat(this.stateMachines.map(function(w){return w.name})),this.animations.forEach(function(w){return w.cleanup()}),this.stateMachines.forEach(function(w){return w.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var d=this.animations.filter(function(w){return n.includes(w.name)});d.forEach(function(w){w.cleanup(),i.animations.splice(i.animations.indexOf(w),1)});var g=this.stateMachines.filter(function(w){return n.includes(w.name)});g.forEach(function(w){w.cleanup(),i.stateMachines.splice(i.stateMachines.indexOf(w),1)}),u=d.map(function(w){return w.name}).concat(g.map(function(w){return w.name}))}return this.eventManager.fire({type:D.Stop,data:u}),u},Object.defineProperty(a.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(n,i){return n||i.playing},!1)||this.stateMachines.reduce(function(n,i){return n||i.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),a.prototype.atLeastOne=function(n,i){i===void 0&&(i=!0);var u;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([u=this.artboard.animationByIndex(0).name],n,i):this.artboard.stateMachineCount()>0&&this.add([u=this.artboard.stateMachineByIndex(0).name],n,i)),u},a.prototype.handleLooping=function(){for(var n=0,i=this.animations.filter(function(d){return d.playing});n<i.length;n++){var u=i[n];u.loopValue===0&&u.loopCount?(u.loopCount=0,this.stop(u.name)):u.loopValue===1&&u.loopCount?(this.eventManager.fire({type:D.Loop,data:{animation:u.name,type:xe.Loop}}),u.loopCount=0):u.loopValue===2&&u.loopCount>1&&(this.eventManager.fire({type:D.Loop,data:{animation:u.name,type:xe.PingPong}}),u.loopCount=0)}},a.prototype.handleStateChanges=function(){for(var n=[],i=0,u=this.stateMachines.filter(function(g){return g.playing});i<u.length;i++){var d=u[i];n.push.apply(n,d.statesChanged)}n.length>0&&this.eventManager.fire({type:D.StateChange,data:n})},a.prototype.handleAdvancing=function(n){this.eventManager.fire({type:D.Advance,data:n})},a})(),D;(function(a){a.Load="load",a.LoadError="loaderror",a.Play="play",a.Pause="pause",a.Stop="stop",a.Loop="loop",a.Draw="draw",a.Advance="advance",a.StateChange="statechange",a.RiveEvent="riveevent",a.AudioStatusChange="audiostatuschange"})(D||(D={}));var xe;(function(a){a.OneShot="oneshot",a.Loop="loop",a.PingPong="pingpong"})(xe||(xe={}));var ht=(function(){function a(n){n===void 0&&(n=[]),this.listeners=n}return a.prototype.getListeners=function(n){return this.listeners.filter(function(i){return i.type===n})},a.prototype.add=function(n){this.listeners.includes(n)||this.listeners.push(n)},a.prototype.remove=function(n){for(var i=0;i<this.listeners.length;i++){var u=this.listeners[i];if(u.type===n.type&&u.callback===n.callback){this.listeners.splice(i,1);break}}},a.prototype.removeAll=function(n){var i=this;n?this.listeners.filter(function(u){return u.type===n}).forEach(function(u){return i.remove(u)}):this.listeners.splice(0,this.listeners.length)},a.prototype.fire=function(n){var i=this.getListeners(n.type);i.forEach(function(u){return u.callback(n)})},a})(),me=(function(){function a(n){this.eventManager=n,this.queue=[]}return a.prototype.add=function(n){this.queue.push(n)},a.prototype.process=function(){for(;this.queue.length>0;){var n=this.queue.shift();n?.action&&n.action(),n?.event&&this.eventManager.fire(n.event)}},a})(),Ie;(function(a){a[a.AVAILABLE=0]="AVAILABLE",a[a.UNAVAILABLE=1]="UNAVAILABLE"})(Ie||(Ie={}));var tt=(function(a){oe(n,a);function n(){var i=a!==null&&a.apply(this,arguments)||this;return i._started=!1,i._enabled=!1,i._status=Ie.UNAVAILABLE,i}return n.prototype.delay=function(i){return x(this,void 0,void 0,function(){return $(this,function(u){return[2,new Promise(function(d){return setTimeout(d,i)})]})})},n.prototype.timeout=function(){return x(this,void 0,void 0,function(){return $(this,function(i){return[2,new Promise(function(u,d){return setTimeout(d,50)})]})})},n.prototype.reportToListeners=function(){this.fire({type:D.AudioStatusChange}),this.removeAll()},n.prototype.enableAudio=function(){return x(this,void 0,void 0,function(){return $(this,function(i){return this._enabled||(this._enabled=!0,this._status=Ie.AVAILABLE,this.reportToListeners()),[2]})})},n.prototype.testAudio=function(){return x(this,void 0,void 0,function(){return $(this,function(i){switch(i.label){case 0:if(!(this._status===Ie.UNAVAILABLE&&this._audioContext!==null))return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,Promise.race([this._audioContext.resume(),this.timeout()])];case 2:return i.sent(),this.enableAudio(),[3,4];case 3:return i.sent(),[3,4];case 4:return[2]}})})},n.prototype._establishAudio=function(){return x(this,void 0,void 0,function(){return $(this,function(i){switch(i.label){case 0:return this._started?[3,5]:(this._started=!0,typeof window>"u"?(this.enableAudio(),[3,5]):[3,1]);case 1:this._audioContext=new AudioContext,this.listenForUserAction(),i.label=2;case 2:return this._status!==Ie.UNAVAILABLE?[3,5]:[4,this.testAudio()];case 3:return i.sent(),[4,this.delay(1e3)];case 4:return i.sent(),[3,2];case 5:return[2]}})})},n.prototype.listenForUserAction=function(){var i=this,u=function(){return x(i,void 0,void 0,function(){return $(this,function(d){return this.enableAudio(),[2]})})};document.addEventListener("pointerdown",u,{once:!0})},n.prototype.establishAudio=function(){return x(this,void 0,void 0,function(){return $(this,function(i){return this._establishAudio(),[2]})})},Object.defineProperty(n.prototype,"systemVolume",{get:function(){return this._status===Ie.UNAVAILABLE?(this.testAudio(),0):1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),n})(ht),De=new tt,Te=(function(){function a(){}return a.prototype.observe=function(){},a.prototype.unobserve=function(){},a.prototype.disconnect=function(){},a})(),be=globalThis.ResizeObserver||Te,ze=(function(){function a(){var n=this;this._elementsMap=new Map,this._onObservedEntry=function(i){var u=n._elementsMap.get(i.target);u!==null?u.onResize(i.target.clientWidth==0||i.target.clientHeight==0):n._resizeObserver.unobserve(i.target)},this._onObserved=function(i){i.forEach(n._onObservedEntry)},this._resizeObserver=new be(this._onObserved)}return a.prototype.add=function(n,i){var u={onResize:i,element:n};return this._elementsMap.set(n,u),this._resizeObserver.observe(n),u},a.prototype.remove=function(n){this._resizeObserver.unobserve(n.element),this._elementsMap.delete(n.element)},a})(),Je=new ze,ue=(function(){function a(n){this.enableRiveAssetCDN=!0,this.referenceCount=0,this.destroyed=!1,this.selfUnref=!1,this.bindableArtboards=[],this.src=n.src,this.buffer=n.buffer,n.assetLoader&&(this.assetLoader=n.assetLoader),this.enableRiveAssetCDN=typeof n.enableRiveAssetCDN=="boolean"?n.enableRiveAssetCDN:!0,this.eventManager=new ht,n.onLoad&&this.on(D.Load,n.onLoad),n.onLoadError&&this.on(D.LoadError,n.onLoadError)}return a.prototype.releaseFile=function(){var n;this.selfUnref&&((n=this.file)===null||n===void 0||n.unref()),this.file=null},a.prototype.releaseBindableArtboards=function(){this.bindableArtboards.forEach(function(n){return n.destroy()})},a.prototype.initData=function(){return x(this,void 0,void 0,function(){var n,i,u,d,g;return $(this,function(w){switch(w.label){case 0:return this.src?(n=this,[4,xt(this.src)]):[3,2];case 1:n.buffer=w.sent(),w.label=2;case 2:return this.destroyed?[2]:(this.assetLoader&&(u=new H.CustomFileAssetLoaderWrapper(this.runtime,this.assetLoader),i=u.assetLoader),d=this,[4,this.runtime.load(new Uint8Array(this.buffer),i,this.enableRiveAssetCDN)]);case 3:return d.file=w.sent(),g=new H.FileFinalizer(this.file),H.finalizationRegistry.register(this,g),this.destroyed?(this.releaseFile(),[2]):(this.file!==null?this.eventManager.fire({type:D.Load,data:this}):this.fireLoadError(a.fileLoadErrorMessage),[2])}})})},a.prototype.init=function(){return x(this,void 0,void 0,function(){var n,i;return $(this,function(u){switch(u.label){case 0:if(!this.src&&!this.buffer)return this.fireLoadError(a.missingErrorMessage),[2];u.label=1;case 1:return u.trys.push([1,4,,5]),n=this,[4,ce.awaitInstance()];case 2:return n.runtime=u.sent(),this.destroyed?[2]:[4,this.initData()];case 3:return u.sent(),[3,5];case 4:return i=u.sent(),this.fireLoadError(i instanceof Error?i.message:a.fileLoadErrorMessage),[3,5];case 5:return[2]}})})},a.prototype.fireLoadError=function(n){throw this.eventManager.fire({type:D.LoadError,data:n}),new Error(n)},a.prototype.on=function(n,i){this.eventManager.add({type:n,callback:i})},a.prototype.off=function(n,i){this.eventManager.remove({type:n,callback:i})},a.prototype.cleanup=function(){this.referenceCount-=1,this.referenceCount<=0&&(this.removeAllRiveEventListeners(),this.releaseFile(),this.releaseBindableArtboards(),this.destroyed=!0)},a.prototype.removeAllRiveEventListeners=function(n){this.eventManager.removeAll(n)},a.prototype.getInstance=function(){if(this.file!==null)return this.referenceCount+=1,this.file},a.prototype.destroyIfUnused=function(){this.referenceCount<=0&&this.cleanup()},a.prototype.createBindableArtboard=function(n){if(n!=null){var i=new T(n);return(0,H.createFinalization)(i,i.nativeArtboard),this.bindableArtboards.push(i),i}return null},a.prototype.getArtboard=function(n){var i=this.file.artboardByName(n);if(i!=null)return new P(i,this)},a.prototype.getBindableArtboard=function(n){var i=this.file.bindableArtboardByName(n);return this.createBindableArtboard(i)},a.prototype.getDefaultBindableArtboard=function(){var n=this.file.bindableArtboardDefault();return this.createBindableArtboard(n)},a.prototype.internalBindableArtboardFromArtboard=function(n){var i=this.file.internalBindableArtboardFromArtboard(n);return this.createBindableArtboard(i)},a.missingErrorMessage="Rive source file or data buffer required",a.fileLoadErrorMessage="The file failed to load",a})(),Y=(function(){function a(n){var i=this,u;this.loaded=!1,this.destroyed=!1,this._observed=null,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.dispatchPointerExit=!0,this.enableMultiTouch=!1,this.enableRiveAssetCDN=!0,this._volume=1,this._artboardWidth=void 0,this._artboardHeight=void 0,this._devicePixelRatioUsed=1,this._hasZeroSize=!1,this._audioEventListener=null,this._boundDraw=null,this._viewModelInstance=null,this._dataEnums=null,this.durations=[],this.frameTimes=[],this.frameCount=0,this.isTouchScrollEnabled=!1,this.onCanvasResize=function(d){var g=i._hasZeroSize!==d;i._hasZeroSize=d,d?(!i._layout.maxX||!i._layout.maxY)&&i.resizeToCanvas():g&&i.resizeDrawingSurfaceToCanvas()},this.renderSecondTimer=0,this._boundDraw=this.draw.bind(this),this.canvas=n.canvas,n.canvas.constructor===HTMLCanvasElement&&(this._observed=Je.add(this.canvas,this.onCanvasResize)),this.src=n.src,this.buffer=n.buffer,this.riveFile=n.riveFile,this.layout=(u=n.layout)!==null&&u!==void 0?u:new Ee,this.shouldDisableRiveListeners=!!n.shouldDisableRiveListeners,this.isTouchScrollEnabled=!!n.isTouchScrollEnabled,this.automaticallyHandleEvents=!!n.automaticallyHandleEvents,this.dispatchPointerExit=n.dispatchPointerExit===!1?n.dispatchPointerExit:this.dispatchPointerExit,this.enableMultiTouch=!!n.enableMultiTouch,this.enableRiveAssetCDN=n.enableRiveAssetCDN===void 0?!0:n.enableRiveAssetCDN,this.eventManager=new ht,n.onLoad&&this.on(D.Load,n.onLoad),n.onLoadError&&this.on(D.LoadError,n.onLoadError),n.onPlay&&this.on(D.Play,n.onPlay),n.onPause&&this.on(D.Pause,n.onPause),n.onStop&&this.on(D.Stop,n.onStop),n.onLoop&&this.on(D.Loop,n.onLoop),n.onStateChange&&this.on(D.StateChange,n.onStateChange),n.onAdvance&&this.on(D.Advance,n.onAdvance),n.onload&&!n.onLoad&&this.on(D.Load,n.onload),n.onloaderror&&!n.onLoadError&&this.on(D.LoadError,n.onloaderror),n.onplay&&!n.onPlay&&this.on(D.Play,n.onplay),n.onpause&&!n.onPause&&this.on(D.Pause,n.onpause),n.onstop&&!n.onStop&&this.on(D.Stop,n.onstop),n.onloop&&!n.onLoop&&this.on(D.Loop,n.onloop),n.onstatechange&&!n.onStateChange&&this.on(D.StateChange,n.onstatechange),n.assetLoader&&(this.assetLoader=n.assetLoader),this.taskQueue=new me(this.eventManager),this.init({src:this.src,buffer:this.buffer,riveFile:this.riveFile,autoplay:n.autoplay,autoBind:n.autoBind,animations:n.animations,stateMachines:n.stateMachines,artboard:n.artboard,useOffscreenRenderer:n.useOffscreenRenderer})}return Object.defineProperty(a.prototype,"viewModelCount",{get:function(){return this.file.viewModelCount()},enumerable:!1,configurable:!0}),a.new=function(n){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new a(n)},a.prototype.onSystemAudioChanged=function(){this.volume=this._volume},a.prototype.init=function(n){var i=this,u=n.src,d=n.buffer,g=n.riveFile,w=n.animations,S=n.stateMachines,W=n.artboard,O=n.autoplay,U=O===void 0?!1:O,pe=n.useOffscreenRenderer,Be=pe===void 0?!1:pe,Ae=n.autoBind,it=Ae===void 0?!1:Ae;if(!this.destroyed){if(this.src=u,this.buffer=d,this.riveFile=g,!this.src&&!this.buffer&&!this.riveFile)throw new Oe(a.missingErrorMessage);var Ze=Ue(w),$e=Ue(S);this.loaded=!1,this.readyForPlaying=!1,ce.awaitInstance().then(function(He){i.destroyed||(i.runtime=He,i.removeRiveListeners(),i.deleteRiveRenderer(),i.renderer=i.runtime.makeRenderer(i.canvas,Be),i.canvas.width||i.canvas.height||i.resizeDrawingSurfaceToCanvas(),i.initData(W,Ze,$e,U,it).then(function(qe){if(qe)return i.setupRiveListeners()}).catch(function(qe){console.error(qe)}))}).catch(function(He){console.error(He)})}},a.prototype.setupRiveListeners=function(n){var i=this;if(this.eventCleanup&&this.eventCleanup(),!this.shouldDisableRiveListeners){var u=(this.animator.stateMachines||[]).filter(function(S){return S.playing&&i.runtime.hasListeners(S.instance)}).map(function(S){return S.instance}),d=this.isTouchScrollEnabled,g=this.dispatchPointerExit,w=this.enableMultiTouch;n&&"isTouchScrollEnabled"in n&&(d=n.isTouchScrollEnabled),this.eventCleanup=(0,H.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:u,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime),isTouchScrollEnabled:d,dispatchPointerExit:g,enableMultiTouch:w,layoutScaleFactor:this._layout.layoutScaleFactor})}},a.prototype.removeRiveListeners=function(){this.eventCleanup&&(this.eventCleanup(),this.eventCleanup=null)},a.prototype.initializeAudio=function(){var n=this,i;De.status==Ie.UNAVAILABLE&&!((i=this.artboard)===null||i===void 0)&&i.hasAudio&&this._audioEventListener===null&&(this._audioEventListener={type:D.AudioStatusChange,callback:function(){return n.onSystemAudioChanged()}},De.add(this._audioEventListener),De.establishAudio())},a.prototype.initArtboardSize=function(){this.artboard&&(this._artboardWidth=this.artboard.width=this._artboardWidth||this.artboard.width,this._artboardHeight=this.artboard.height=this._artboardHeight||this.artboard.height)},a.prototype.initData=function(n,i,u,d,g){return x(this,void 0,void 0,function(){var w,S,W,O;return $(this,function(U){switch(U.label){case 0:return U.trys.push([0,3,,4]),this.riveFile!=null?[3,2]:(w=new ue({src:this.src,buffer:this.buffer,enableRiveAssetCDN:this.enableRiveAssetCDN,assetLoader:this.assetLoader}),this.riveFile=w,[4,w.init()]);case 1:if(U.sent(),this.destroyed)return w.destroyIfUnused(),[2,!1];U.label=2;case 2:return this.file=this.riveFile.getInstance(),this.initArtboard(n,i,u,d,g),this.initArtboardSize(),this.initializeAudio(),this.loaded=!0,this.eventManager.fire({type:D.Load,data:(O=this.src)!==null&&O!==void 0?O:"buffer"}),this.animator.advanceIfPaused(),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,!0];case 3:return S=U.sent(),W=Re(S),console.warn(W),this.eventManager.fire({type:D.LoadError,data:W}),[2,Promise.reject(W)];case 4:return[2]}})})},a.prototype.initArtboard=function(n,i,u,d,g){if(this.file){var w=n?this.file.artboardByName(n):this.file.defaultArtboard();if(!w){var S="Invalid artboard name or no default artboard";console.warn(S),this.eventManager.fire({type:D.LoadError,data:S});return}this.artboard=w,w.volume=this._volume*De.systemVolume,this.animator=new Q(this.runtime,this.artboard,this.eventManager);var W;if(i.length>0||u.length>0?(W=i.concat(u),this.animator.initLinearAnimations(i,d),this.animator.initStateMachines(u,d)):W=[this.animator.atLeastOne(d,!1)],this.taskQueue.add({event:{type:d?D.Play:D.Pause,data:W}}),g){var O=this.file.defaultArtboardViewModel(w);if(O!==null){var U=O.defaultInstance();if(U!==null){var pe=new Qe(U,null);(0,H.createFinalization)(pe,pe.runtimeInstance),this.bindViewModelInstance(pe)}}}}},a.prototype.drawFrame=function(){var n,i;!((n=document?.timeline)===null||n===void 0)&&n.currentTime?this.loaded&&this.artboard&&!this.frameRequestId&&(this._boundDraw(document.timeline.currentTime),(i=this.runtime)===null||i===void 0||i.resolveAnimationFrame()):this.startRendering()},a.prototype.draw=function(n,i){var u;this.frameRequestId=null;var d=performance.now();this.lastRenderTime||(this.lastRenderTime=n),this.renderSecondTimer+=n-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,i?.());var g=(n-this.lastRenderTime)/1e3;this.lastRenderTime=n;for(var w=this.animator.animations.filter(function(yt){return yt.playing||yt.needsScrub}).sort(function(yt){return yt.needsScrub?-1:1}),S=0,W=w;S<W.length;S++){var O=W[S];O.advance(g),O.instance.didLoop&&(O.loopCount+=1),O.apply(1)}for(var U=this.animator.stateMachines.filter(function(yt){return yt.playing}),pe=0,Be=U;pe<Be.length;pe++){var Ae=Be[pe],it=Ae.reportedEventCount();if(it)for(var Ze=0;Ze<it;Ze++){var $e=Ae.reportedEventAt(Ze);if($e)if($e.type===Ge.OpenUrl){if(this.eventManager.fire({type:D.RiveEvent,data:$e}),this.automaticallyHandleEvents){var He=document.createElement("a"),qe=$e,Mt=qe.url,gt=qe.target,B=(0,H.sanitizeUrl)(Mt);Mt&&He.setAttribute("href",B),gt&&He.setAttribute("target",gt),B&&B!==H.BLANK_URL&&He.click()}}else this.eventManager.fire({type:D.RiveEvent,data:$e})}Ae.advanceAndApply(g)}this.animator.stateMachines.length==0&&this.artboard.advance(g);var ut=this.renderer;ut.clear(),ut.save(),this.alignRenderer(),this._hasZeroSize||this.artboard.draw(ut),ut.restore(),ut.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(g),this.frameCount++;var q=performance.now();for(this.frameTimes.push(q),this.durations.push(q-d);this.frameTimes[0]<=q-1e3;)this.frameTimes.shift(),this.durations.shift();(u=this._viewModelInstance)===null||u===void 0||u.handleCallbacks(),this.animator.isPlaying?this.startRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},a.prototype.alignRenderer=function(){var n=this,i=n.renderer,u=n.runtime,d=n._layout,g=n.artboard;i.align(d.runtimeFit(u),d.runtimeAlignment(u),{minX:d.minX,minY:d.minY,maxX:d.maxX,maxY:d.maxY},g.bounds,this._devicePixelRatioUsed*d.layoutScaleFactor)},Object.defineProperty(a.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(n,i){return n+i},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),a.prototype.cleanup=function(){var n,i;this.destroyed=!0,this.stopRendering(),this.cleanupInstances(),this._observed!==null&&Je.remove(this._observed),this.removeRiveListeners(),this.file&&((n=this.riveFile)===null||n===void 0||n.cleanup(),this.file=null),this.riveFile=null,this.deleteRiveRenderer(),this._audioEventListener!==null&&(De.remove(this._audioEventListener),this._audioEventListener=null),(i=this._viewModelInstance)===null||i===void 0||i.cleanup(),this._viewModelInstance=null,this._dataEnums=null},a.prototype.deleteRiveRenderer=function(){var n;(n=this.renderer)===null||n===void 0||n.delete(),this.renderer=null},a.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},a.prototype.retrieveTextRun=function(n){var i;if(!n){console.warn("No text run name provided");return}if(!this.artboard){console.warn("Tried to access text run, but the Artboard is null");return}var u=this.artboard.textRun(n);if(!u){console.warn("Could not access a text run with name '".concat(n,"' in the '").concat((i=this.artboard)===null||i===void 0?void 0:i.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));return}return u},a.prototype.getTextRunValue=function(n){var i=this.retrieveTextRun(n);return i?i.text:void 0},a.prototype.setTextRunValue=function(n,i){var u=this.retrieveTextRun(n);u&&(u.text=i)},a.prototype.play=function(n,i){var u=this;if(n=Ue(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return u.play(n,i)}});return}this.animator.play(n),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()},a.prototype.pause=function(n){var i=this;if(n=Ue(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return i.pause(n)}});return}this.eventCleanup&&this.eventCleanup(),this.animator.pause(n)},a.prototype.scrub=function(n,i){var u=this;if(n=Ue(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return u.scrub(n,i)}});return}this.animator.scrub(n,i||0),this.drawFrame()},a.prototype.stop=function(n){var i=this;if(n=Ue(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return i.stop(n)}});return}this.animator&&this.animator.stop(n),this.eventCleanup&&this.eventCleanup()},a.prototype.reset=function(n){var i,u,d=n?.artboard,g=Ue(n?.animations),w=Ue(n?.stateMachines),S=(i=n?.autoplay)!==null&&i!==void 0?i:!1,W=(u=n?.autoBind)!==null&&u!==void 0?u:!1;this.cleanupInstances(),this.initArtboard(d,g,w,S,W),this.taskQueue.process()},a.prototype.load=function(n){this.file=null,this.stop(),this.init(n)},Object.defineProperty(a.prototype,"layout",{get:function(){return this._layout},set:function(n){this._layout=n,(!n.maxX||!n.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),a.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},a.prototype.resizeDrawingSurfaceToCanvas=function(n){if(this.canvas instanceof HTMLCanvasElement&&window){var i=this.canvas.getBoundingClientRect(),u=i.width,d=i.height,g=n||window.devicePixelRatio||1;if(this.devicePixelRatioUsed=g,this.canvas.width=g*u,this.canvas.height=g*d,this.resizeToCanvas(),this.drawFrame(),this.layout.fit===he.Layout){var w=this._layout.layoutScaleFactor;this.artboard.width=u/w,this.artboard.height=d/w}}},Object.defineProperty(a.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"animationNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var n=[],i=0;i<this.artboard.animationCount();i++)n.push(this.artboard.animationByIndex(i).name);return n},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"stateMachineNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var n=[],i=0;i<this.artboard.stateMachineCount();i++)n.push(this.artboard.stateMachineByIndex(i).name);return n},enumerable:!1,configurable:!0}),a.prototype.stateMachineInputs=function(n){if(this.loaded){var i=this.animator.stateMachines.find(function(u){return u.name===n});return i?.inputs}},a.prototype.retrieveInputAtPath=function(n,i){if(!n){console.warn("No input name provided for path '".concat(i,"'"));return}if(!this.artboard){console.warn("Tried to access input: '".concat(n,"', at path: '").concat(i,"', but the Artboard is null"));return}var u=this.artboard.inputByPath(n,i);if(!u){console.warn("Could not access an input with name: '".concat(n,"', at path:'").concat(i,"'"));return}return u},a.prototype.setBooleanStateAtPath=function(n,i,u){var d=this.retrieveInputAtPath(n,u);d&&(d.type===_e.Boolean?d.asBool().value=i:console.warn("Input with name: '".concat(n,"', at path:'").concat(u,"' is not a boolean")))},a.prototype.setNumberStateAtPath=function(n,i,u){var d=this.retrieveInputAtPath(n,u);d&&(d.type===_e.Number?d.asNumber().value=i:console.warn("Input with name: '".concat(n,"', at path:'").concat(u,"' is not a number")))},a.prototype.fireStateAtPath=function(n,i){var u=this.retrieveInputAtPath(n,i);u&&(u.type===_e.Trigger?u.asTrigger().fire():console.warn("Input with name: '".concat(n,"', at path:'").concat(i,"' is not a trigger")))},a.prototype.retrieveTextAtPath=function(n,i){if(!n){console.warn("No text name provided for path '".concat(i,"'"));return}if(!i){console.warn("No path provided for text '".concat(n,"'"));return}if(!this.artboard){console.warn("Tried to access text: '".concat(n,"', at path: '").concat(i,"', but the Artboard is null"));return}var u=this.artboard.textByPath(n,i);if(!u){console.warn("Could not access text with name: '".concat(n,"', at path:'").concat(i,"'"));return}return u},a.prototype.getTextRunValueAtPath=function(n,i){var u=this.retrieveTextAtPath(n,i);if(!u){console.warn("Could not get text with name: '".concat(n,"', at path:'").concat(i,"'"));return}return u.text},a.prototype.setTextRunValueAtPath=function(n,i,u){var d=this.retrieveTextAtPath(n,u);if(!d){console.warn("Could not set text with name: '".concat(n,"', at path:'").concat(u,"'"));return}d.text=i},Object.defineProperty(a.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(n){return n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(n){return n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(n){return!n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(n){return!n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),a.prototype.on=function(n,i){this.eventManager.add({type:n,callback:i})},a.prototype.off=function(n,i){this.eventManager.remove({type:n,callback:i})},a.prototype.unsubscribe=function(n,i){console.warn("This function is deprecated: please use `off()` instead."),this.off(n,i)},a.prototype.removeAllRiveEventListeners=function(n){this.eventManager.removeAll(n)},a.prototype.unsubscribeAll=function(n){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(n)},a.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},a.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this._boundDraw):this.frameRequestId=requestAnimationFrame(this._boundDraw))},a.prototype.enableFPSCounter=function(n){this.runtime.enableFPSCounter(n)},a.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(a.prototype,"contents",{get:function(){if(this.loaded){for(var n={artboards:[]},i=0;i<this.file.artboardCount();i++){for(var u=this.file.artboardByIndex(i),d={name:u.name,animations:[],stateMachines:[]},g=0;g<u.animationCount();g++){var w=u.animationByIndex(g);d.animations.push(w.name)}for(var S=0;S<u.stateMachineCount();S++){for(var W=u.stateMachineByIndex(S),O=W.name,U=new this.runtime.StateMachineInstance(W,u),pe=[],Be=0;Be<U.inputCount();Be++){var Ae=U.input(Be);pe.push({name:Ae.name,type:Ae.type})}d.stateMachines.push({name:O,inputs:pe})}n.artboards.push(d)}return n}},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"volume",{get:function(){return this.artboard&&this.artboard.volume!==this._volume&&(this._volume=this.artboard.volume),this._volume},set:function(n){this._volume=n,this.artboard&&(this.artboard.volume=n*De.systemVolume)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"artboardWidth",{get:function(){var n;return this.artboard?this.artboard.width:(n=this._artboardWidth)!==null&&n!==void 0?n:0},set:function(n){this._artboardWidth=n,this.artboard&&(this.artboard.width=n)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"artboardHeight",{get:function(){var n;return this.artboard?this.artboard.height:(n=this._artboardHeight)!==null&&n!==void 0?n:0},set:function(n){this._artboardHeight=n,this.artboard&&(this.artboard.height=n)},enumerable:!1,configurable:!0}),a.prototype.resetArtboardSize=function(){this.artboard?(this.artboard.resetArtboardSize(),this._artboardWidth=this.artboard.width,this._artboardHeight=this.artboard.height):(this._artboardWidth=void 0,this._artboardHeight=void 0)},Object.defineProperty(a.prototype,"devicePixelRatioUsed",{get:function(){return this._devicePixelRatioUsed},set:function(n){this._devicePixelRatioUsed=n},enumerable:!1,configurable:!0}),a.prototype.bindViewModelInstance=function(n){var i;this.artboard&&!this.destroyed&&n&&n.runtimeInstance&&(n.internalIncrementReferenceCount(),(i=this._viewModelInstance)===null||i===void 0||i.cleanup(),this._viewModelInstance=n,this.animator.stateMachines.length>0?this.animator.stateMachines.forEach(function(u){return u.bindViewModelInstance(n)}):this.artboard.bindViewModelInstance(n.runtimeInstance))},Object.defineProperty(a.prototype,"viewModelInstance",{get:function(){return this._viewModelInstance},enumerable:!1,configurable:!0}),a.prototype.viewModelByIndex=function(n){var i=this.file.viewModelByIndex(n);return i!==null?new at(i):null},a.prototype.viewModelByName=function(n){var i=this.file.viewModelByName(n);return i!==null?new at(i):null},a.prototype.enums=function(){if(this._dataEnums===null){var n=this.file.enums();this._dataEnums=n.map(function(i){return new st(i)})}return this._dataEnums},a.prototype.defaultViewModel=function(){if(this.artboard){var n=this.file.defaultArtboardViewModel(this.artboard);if(n)return new at(n)}return null},a.prototype.getArtboard=function(n){var i,u;return(u=(i=this.riveFile)===null||i===void 0?void 0:i.getArtboard(n))!==null&&u!==void 0?u:null},a.prototype.getBindableArtboard=function(n){var i,u;return(u=(i=this.riveFile)===null||i===void 0?void 0:i.getBindableArtboard(n))!==null&&u!==void 0?u:null},a.prototype.getDefaultBindableArtboard=function(){var n,i;return(i=(n=this.riveFile)===null||n===void 0?void 0:n.getDefaultBindableArtboard())!==null&&i!==void 0?i:null},a.missingErrorMessage="Rive source file or data buffer required",a.cleanupErrorMessage="Attempt to use file after calling cleanup.",a})(),at=(function(){function a(n){this._viewModel=n}return Object.defineProperty(a.prototype,"instanceCount",{get:function(){return this._viewModel.instanceCount},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"name",{get:function(){return this._viewModel.name},enumerable:!1,configurable:!0}),a.prototype.instanceByIndex=function(n){var i=this._viewModel.instanceByIndex(n);if(i!==null){var u=new Qe(i,null);return(0,H.createFinalization)(u,i),u}return null},a.prototype.instanceByName=function(n){var i=this._viewModel.instanceByName(n);if(i!==null){var u=new Qe(i,null);return(0,H.createFinalization)(u,i),u}return null},a.prototype.defaultInstance=function(){var n=this._viewModel.defaultInstance();if(n!==null){var i=new Qe(n,null);return(0,H.createFinalization)(i,n),i}return null},a.prototype.instance=function(){var n=this._viewModel.instance();if(n!==null){var i=new Qe(n,null);return(0,H.createFinalization)(i,n),i}return null},Object.defineProperty(a.prototype,"properties",{get:function(){return this._viewModel.getProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"instanceNames",{get:function(){return this._viewModel.getInstanceNames()},enumerable:!1,configurable:!0}),a})(),st=(function(){function a(n){this._dataEnum=n}return Object.defineProperty(a.prototype,"name",{get:function(){return this._dataEnum.name},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"values",{get:function(){return this._dataEnum.values},enumerable:!1,configurable:!0}),a})(),ye;(function(a){a.Number="number",a.String="string",a.Boolean="boolean",a.Color="color",a.Trigger="trigger",a.Enum="enum",a.List="list",a.Image="image",a.Artboard="artboard"})(ye||(ye={}));var Qe=(function(){function a(n,i){this._parents=[],this._children=[],this._viewModelInstances=new Map,this._propertiesWithCallbacks=[],this._referenceCount=0,this.selfUnref=!1,this._runtimeInstance=n,i!==null&&this._parents.push(i)}return Object.defineProperty(a.prototype,"runtimeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"nativeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),a.prototype.handleCallbacks=function(){this._propertiesWithCallbacks.length!==0&&(this._propertiesWithCallbacks.forEach(function(n){n.handleCallbacks()}),this._propertiesWithCallbacks.forEach(function(n){n.clearChanges()})),this._children.forEach(function(n){return n.handleCallbacks()})},a.prototype.addParent=function(n){this._parents.includes(n)||(this._parents.push(n),(this._propertiesWithCallbacks.length>0||this._children.length>0)&&n.addToViewModelCallbacks(this))},a.prototype.removeParent=function(n){var i=this._parents.indexOf(n);if(i!==-1){var u=this._parents[i];u.removeFromViewModelCallbacks(this),this._parents.splice(i,1)}},a.prototype.addToPropertyCallbacks=function(n){var i=this;this._propertiesWithCallbacks.includes(n)||(this._propertiesWithCallbacks.push(n),this._propertiesWithCallbacks.length>0&&this._parents.forEach(function(u){u.addToViewModelCallbacks(i)}))},a.prototype.removeFromPropertyCallbacks=function(n){var i=this;this._propertiesWithCallbacks.includes(n)&&(this._propertiesWithCallbacks=this._propertiesWithCallbacks.filter(function(u){return u!==n}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(u){u.removeFromViewModelCallbacks(i)}))},a.prototype.addToViewModelCallbacks=function(n){var i=this;this._children.includes(n)||(this._children.push(n),this._parents.forEach(function(u){u.addToViewModelCallbacks(i)}))},a.prototype.removeFromViewModelCallbacks=function(n){var i=this;this._children.includes(n)&&(this._children=this._children.filter(function(u){return u!==n}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(u){u.removeFromViewModelCallbacks(i)}))},a.prototype.clearCallbacks=function(){this._propertiesWithCallbacks.forEach(function(n){n.clearCallbacks()})},a.prototype.propertyFromPath=function(n,i){var u=n.split("/");return this.propertyFromPathSegments(u,0,i)},a.prototype.viewModelFromPathSegments=function(n,i){var u=this.internalViewModelInstance(n[i]);return u!==null?i==n.length-1?u:u.viewModelFromPathSegments(n,i++):null},a.prototype.propertyFromPathSegments=function(n,i,u){var d,g,w,S,W,O,U,pe,Be,Ae,it,Ze,$e,He,qe,Mt,gt,B;if(i<n.length-1){var ut=this.internalViewModelInstance(n[i]);return ut!==null?ut.propertyFromPathSegments(n,i+1,u):null}var q=null;switch(u){case ye.Number:if(q=(g=(d=this._runtimeInstance)===null||d===void 0?void 0:d.number(n[i]))!==null&&g!==void 0?g:null,q!==null)return new jt(q,this);break;case ye.String:if(q=(S=(w=this._runtimeInstance)===null||w===void 0?void 0:w.string(n[i]))!==null&&S!==void 0?S:null,q!==null)return new Et(q,this);break;case ye.Boolean:if(q=(O=(W=this._runtimeInstance)===null||W===void 0?void 0:W.boolean(n[i]))!==null&&O!==void 0?O:null,q!==null)return new Ne(q,this);break;case ye.Color:if(q=(pe=(U=this._runtimeInstance)===null||U===void 0?void 0:U.color(n[i]))!==null&&pe!==void 0?pe:null,q!==null)return new It(q,this);break;case ye.Trigger:if(q=(Ae=(Be=this._runtimeInstance)===null||Be===void 0?void 0:Be.trigger(n[i]))!==null&&Ae!==void 0?Ae:null,q!==null)return new nt(q,this);break;case ye.Enum:if(q=(Ze=(it=this._runtimeInstance)===null||it===void 0?void 0:it.enum(n[i]))!==null&&Ze!==void 0?Ze:null,q!==null)return new pt(q,this);break;case ye.List:if(q=(He=($e=this._runtimeInstance)===null||$e===void 0?void 0:$e.list(n[i]))!==null&&He!==void 0?He:null,q!==null)return new vt(q,this);break;case ye.Image:if(q=(Mt=(qe=this._runtimeInstance)===null||qe===void 0?void 0:qe.image(n[i]))!==null&&Mt!==void 0?Mt:null,q!==null)return new Ce(q,this);break;case ye.Artboard:if(q=(B=(gt=this._runtimeInstance)===null||gt===void 0?void 0:gt.artboard(n[i]))!==null&&B!==void 0?B:null,q!==null)return new Z(q,this);break}return null},a.prototype.internalViewModelInstance=function(n){var i;if(this._viewModelInstances.has(n))return this._viewModelInstances.get(n);var u=(i=this._runtimeInstance)===null||i===void 0?void 0:i.viewModel(n);if(u!==null){var d=new a(u,this);return(0,H.createFinalization)(d,u),d.internalIncrementReferenceCount(),this._viewModelInstances.set(n,d),d}return null},a.prototype.number=function(n){var i=this.propertyFromPath(n,ye.Number);return i},a.prototype.string=function(n){var i=this.propertyFromPath(n,ye.String);return i},a.prototype.boolean=function(n){var i=this.propertyFromPath(n,ye.Boolean);return i},a.prototype.color=function(n){var i=this.propertyFromPath(n,ye.Color);return i},a.prototype.trigger=function(n){var i=this.propertyFromPath(n,ye.Trigger);return i},a.prototype.enum=function(n){var i=this.propertyFromPath(n,ye.Enum);return i},a.prototype.list=function(n){var i=this.propertyFromPath(n,ye.List);return i},a.prototype.image=function(n){var i=this.propertyFromPath(n,ye.Image);return i},a.prototype.artboard=function(n){var i=this.propertyFromPath(n,ye.Artboard);return i},a.prototype.viewModel=function(n){var i=n.split("/"),u=i.length>1?this.viewModelFromPathSegments(i.slice(0,i.length-1),0):this;return u!=null?u.internalViewModelInstance(i[i.length-1]):null},a.prototype.internalReplaceViewModel=function(n,i){var u;if(i.runtimeInstance!==null){var d=((u=this._runtimeInstance)===null||u===void 0?void 0:u.replaceViewModel(n,i.runtimeInstance))||!1;if(d){i.internalIncrementReferenceCount();var g=this.internalViewModelInstance(n);g!==null&&(g.removeParent(this),this._children.includes(g)&&(this._children=this._children.filter(function(w){return w!==g})),g.cleanup()),this._viewModelInstances.set(n,i),i.addParent(this)}return d}return!1},a.prototype.replaceViewModel=function(n,i){var u,d=n.split("/"),g=d.length>1?this.viewModelFromPathSegments(d.slice(0,d.length-1),0):this;return(u=g?.internalReplaceViewModel(d[d.length-1],i))!==null&&u!==void 0?u:!1},a.prototype.incrementReferenceCount=function(){var n;this._referenceCount++,(n=this._runtimeInstance)===null||n===void 0||n.incrementReferenceCount()},a.prototype.decrementReferenceCount=function(){var n;this._referenceCount--,(n=this._runtimeInstance)===null||n===void 0||n.decrementReferenceCount()},Object.defineProperty(a.prototype,"properties",{get:function(){var n;return((n=this._runtimeInstance)===null||n===void 0?void 0:n.getProperties().map(function(i){return ae({},i)}))||[]},enumerable:!1,configurable:!0}),a.prototype.internalIncrementReferenceCount=function(){this._referenceCount++},a.prototype.cleanup=function(){var n=this,i;if(this._referenceCount--,this._referenceCount<=0){this.selfUnref&&((i=this._runtimeInstance)===null||i===void 0||i.unref()),this._runtimeInstance=null,this.clearCallbacks(),this._propertiesWithCallbacks=[],this._viewModelInstances.forEach(function(g){g.cleanup()}),this._viewModelInstances.clear();var u=h([],this._children,!0);this._children.length=0;var d=h([],this._parents,!0);this._parents.length=0,u.forEach(function(g){g.removeParent(n)}),d.forEach(function(g){g.removeFromViewModelCallbacks(n)})}},a})(),We=(function(){function a(n,i){this.callbacks=[],this._viewModelInstanceValue=n,this._parentViewModel=i}return a.prototype.on=function(n){this.callbacks.length===0&&this._viewModelInstanceValue.clearChanges(),this.callbacks.includes(n)||(this.callbacks.push(n),this._parentViewModel.addToPropertyCallbacks(this))},a.prototype.off=function(n){n?this.callbacks=this.callbacks.filter(function(i){return i!==n}):this.callbacks.length=0,this.callbacks.length===0&&this._parentViewModel.removeFromPropertyCallbacks(this)},a.prototype.internalHandleCallback=function(n){},a.prototype.handleCallbacks=function(){var n=this;this._viewModelInstanceValue.hasChanged&&this.callbacks.forEach(function(i){n.internalHandleCallback(i)})},a.prototype.clearChanges=function(){this._viewModelInstanceValue.clearChanges()},a.prototype.clearCallbacks=function(){this.callbacks.length=0},Object.defineProperty(a.prototype,"name",{get:function(){return this._viewModelInstanceValue.name},enumerable:!1,configurable:!0}),a})(),Et=(function(a){oe(n,a);function n(i,u){return a.call(this,i,u)||this}return Object.defineProperty(n.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(i){this._viewModelInstanceValue.value=i},enumerable:!1,configurable:!0}),n.prototype.internalHandleCallback=function(i){i(this.value)},n})(We),jt=(function(a){oe(n,a);function n(i,u){return a.call(this,i,u)||this}return Object.defineProperty(n.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(i){this._viewModelInstanceValue.value=i},enumerable:!1,configurable:!0}),n.prototype.internalHandleCallback=function(i){i(this.value)},n})(We),Ne=(function(a){oe(n,a);function n(i,u){return a.call(this,i,u)||this}return Object.defineProperty(n.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(i){this._viewModelInstanceValue.value=i},enumerable:!1,configurable:!0}),n.prototype.internalHandleCallback=function(i){i(this.value)},n})(We),nt=(function(a){oe(n,a);function n(i,u){return a.call(this,i,u)||this}return n.prototype.trigger=function(){return this._viewModelInstanceValue.trigger()},n.prototype.internalHandleCallback=function(i){i()},n})(We),pt=(function(a){oe(n,a);function n(i,u){return a.call(this,i,u)||this}return Object.defineProperty(n.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(i){this._viewModelInstanceValue.value=i},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"valueIndex",{get:function(){return this._viewModelInstanceValue.valueIndex},set:function(i){this._viewModelInstanceValue.valueIndex=i},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"values",{get:function(){return this._viewModelInstanceValue.values},enumerable:!1,configurable:!0}),n.prototype.internalHandleCallback=function(i){i(this.value)},n})(We),vt=(function(a){oe(n,a);function n(i,u){return a.call(this,i,u)||this}return Object.defineProperty(n.prototype,"length",{get:function(){return this._viewModelInstanceValue.size},enumerable:!1,configurable:!0}),n.prototype.addInstance=function(i){i.runtimeInstance!=null&&(this._viewModelInstanceValue.addInstance(i.runtimeInstance),i.addParent(this._parentViewModel))},n.prototype.addInstanceAt=function(i,u){return i.runtimeInstance!=null&&this._viewModelInstanceValue.addInstanceAt(i.runtimeInstance,u)?(i.addParent(this._parentViewModel),!0):!1},n.prototype.removeInstance=function(i){i.runtimeInstance!=null&&(this._viewModelInstanceValue.removeInstance(i.runtimeInstance),i.removeParent(this._parentViewModel))},n.prototype.removeInstanceAt=function(i){this._viewModelInstanceValue.removeInstanceAt(i)},n.prototype.instanceAt=function(i){var u=this._viewModelInstanceValue.instanceAt(i);if(u!=null){var d=new Qe(u,this._parentViewModel);return(0,H.createFinalization)(d,u),d}return null},n.prototype.swap=function(i,u){this._viewModelInstanceValue.swap(i,u)},n.prototype.internalHandleCallback=function(i){i()},n})(We),It=(function(a){oe(n,a);function n(i,u){return a.call(this,i,u)||this}return Object.defineProperty(n.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(i){this._viewModelInstanceValue.value=i},enumerable:!1,configurable:!0}),n.prototype.rgb=function(i,u,d){this._viewModelInstanceValue.rgb(i,u,d)},n.prototype.rgba=function(i,u,d,g){this._viewModelInstanceValue.argb(g,i,u,d)},n.prototype.argb=function(i,u,d,g){this._viewModelInstanceValue.argb(i,u,d,g)},n.prototype.alpha=function(i){this._viewModelInstanceValue.alpha(i)},n.prototype.opacity=function(i){this._viewModelInstanceValue.alpha(Math.round(Math.max(0,Math.min(1,i))*255))},n.prototype.internalHandleCallback=function(i){i(this.value)},n})(We),Ce=(function(a){oe(n,a);function n(i,u){return a.call(this,i,u)||this}return Object.defineProperty(n.prototype,"value",{set:function(i){var u;this._viewModelInstanceValue.value((u=i?.nativeImage)!==null&&u!==void 0?u:null)},enumerable:!1,configurable:!0}),n.prototype.internalHandleCallback=function(i){i()},n})(We),Z=(function(a){oe(n,a);function n(i,u){return a.call(this,i,u)||this}return Object.defineProperty(n.prototype,"value",{set:function(i){var u,d;i.isBindableArtboard?d=i:d=i.file.internalBindableArtboardFromArtboard(i.nativeArtboard),this._viewModelInstanceValue.value((u=d?.nativeArtboard)!==null&&u!==void 0?u:null)},enumerable:!1,configurable:!0}),n.prototype.internalHandleCallback=function(i){i()},n})(We),xt=function(a){return x(void 0,void 0,void 0,function(){var n,i,u;return $(this,function(d){switch(d.label){case 0:return n=new Request(a),[4,fetch(n)];case 1:return i=d.sent(),[4,i.arrayBuffer()];case 2:return u=d.sent(),[2,u]}})})},Ue=function(a){return typeof a=="string"?[a]:a instanceof Array?a:[]},$t={EventManager:ht,TaskQueueManager:me},rt=function(a){return x(void 0,void 0,void 0,function(){var n,i,u;return $(this,function(d){switch(d.label){case 0:return n=new Promise(function(g){return ce.getInstance(function(w){w.decodeAudio(a,g)})}),[4,n];case 1:return i=d.sent(),u=new H.AudioWrapper(i),H.finalizationRegistry.register(u,i),[2,u]}})})},mt=function(a){return x(void 0,void 0,void 0,function(){var n,i,u;return $(this,function(d){switch(d.label){case 0:return n=new Promise(function(g){return ce.getInstance(function(w){w.decodeImage(a,g)})}),[4,n];case 1:return i=d.sent(),u=new H.ImageWrapper(i),H.finalizationRegistry.register(u,i),[2,u]}})})},zt=function(a){return x(void 0,void 0,void 0,function(){var n,i,u;return $(this,function(d){switch(d.label){case 0:return n=new Promise(function(g){return ce.getInstance(function(w){w.decodeFont(a,g)})}),[4,n];case 1:return i=d.sent(),u=new H.FontWrapper(i),H.finalizationRegistry.register(u,i),[2,u]}})})}})(),we})())})(En)),En.exports}var sr=ji();let cr=null;const hr=async()=>{try{cr=await navigator.wakeLock.request("screen"),console.log("Wake Lock is active"),cr.addEventListener("release",()=>{console.log("Wake Lock was released"),hr()})}catch(N){console.error("Failed to acquire Wake Lock:",N)}};"wakeLock"in navigator?hr():console.warn("Wake Lock API not supported");document.addEventListener("visibilitychange",()=>{cr!==null&&document.visibilityState==="visible"&&hr()});const fr=document.getElementById("canvas"),ur=document.getElementById("message"),dr=()=>{fr.width=window.innerWidth,fr.height=window.innerHeight};dr();let rn=null,Le=null;const Mn={1:"Idle",2:"PuppyEyes",3:"Staring",4:"Happy",5:"Panting",6:"Sighing",7:"Barking",8:"Woofing",9:"Bumping",0:"Gaze to the right",:"Gaze to the left",i:"StopAllSounds"};let Pn,Rn,Fn,Tn,Ln,On,kn,Sn,jn,xn,Dn;const Wn=()=>{[Pn,Rn,Fn,Tn,Ln,On,kn,Sn,jn,xn,Dn].forEach(N=>{N&&!N.paused&&(N.pause(),N.currentTime=0)})},Pe=N=>{if(!N){console.error("Audio element not found");return}Wn(),N.currentTime=0,N.play().catch(k=>console.error("Error playing audio:",k))},ei=async()=>{try{Pn=document.getElementById("soundSlowBreathing"),Rn=document.getElementById("soundWhimpering"),Fn=document.getElementById("soundLowGrowling"),Tn=document.getElementById("soundExcitedPanting"),Ln=document.getElementById("soundPanting"),On=document.getElementById("soundSigh"),kn=document.getElementById("soundBarking"),Sn=document.getElementById("soundWoofing"),jn=document.getElementById("soundImpatientGrowling"),xn=document.getElementById("soundSneezeRight"),Dn=document.getElementById("soundSneezeLeft"),document.querySelectorAll("audio").forEach(A=>{A.volume=1});const N=()=>{const A=document.documentElement;A.requestFullscreen?A.requestFullscreen():A.webkitRequestFullscreen?A.webkitRequestFullscreen():A.msRequestFullscreen&&A.msRequestFullscreen()};document.addEventListener("touchend",function A(){N(),document.removeEventListener("touchend",A)},!1);const k=new sr.Rive({src:"/dog_animations.riv",canvas:fr,autoplay:!0,stateMachines:"State Machine",fit:sr.Fit.Cover,alignment:sr.Alignment.Center,onLoad:()=>{ur.style.display="none",rn=k.stateMachineInputs("State Machine"),k.resizeDrawingSurfaceToCanvas(),console.log("Rive animation loaded successfully")},onError:A=>{ur.textContent="Failed to load animation",console.error(A)}});Le=new WebSocket(`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}`),Le.onopen=()=>{console.log("WebSocket connected")},Le.onmessage=A=>{const j=A.data;console.log("Received WebSocket message:",j),j==="play-idle-sound"||j==="1"?Pe(Pn):j==="play-puppyeyes-sound"||j==="2"?Pe(Rn):j==="play-intensestare-sound"||j==="3"?Pe(Fn):j==="play-happy-sound"||j==="4"?Pe(Tn):j==="play-panting-sound"||j==="5"?Pe(Ln):j==="play-sigh-sound"||j==="6"?Pe(On):j==="play-barking-sound"||j==="7"?Pe(kn):j==="play-woofing-sound"||j==="8"?Pe(Sn):j==="play-bumping-sound"||j==="9"?Pe(jn):j==="play-gazetotheright-sound"||j==="0"?Pe(xn):j==="play-gazetotheleft-sound"||j===""?Pe(Dn):(j==="stop-all-audio"||j==="i")&&Wn();const X=j;if(Mn[X]&&rn){const we=rn.find(de=>de.name===Mn[X]);we&&we.fire()}},Le.onerror=A=>{console.error("WebSocket error:",A)},Le.onclose=()=>{console.log("WebSocket disconnected, attempting to reconnect..."),setTimeout(ei,5e3)},document.getElementById("audioInitButton").addEventListener("click",()=>{const A=document.getElementById("soundSlowBreathing");A.volume=0,A.play().then(()=>{A.pause(),A.volume=1,console.log("Audio initialized"),document.getElementById("audioInitButton").style.display="none"}).catch(j=>console.error("Audio init failed:",j))}),window.addEventListener("resize",()=>{dr(),k.resizeDrawingSurfaceToCanvas()}),window.addEventListener("orientationchange",()=>{setTimeout(()=>{dr(),k.resizeDrawingSurfaceToCanvas()},100)}),window.addEventListener("unload",()=>{Wn(),k.cleanup()})}catch(N){ur.textContent="Animation system failed to initialize",console.error(N)}};document.addEventListener("keydown",N=>{const k=N.key;if(Mn[k]&&rn){const A=rn.find(j=>j.name===Mn[k]);if(A&&A.fire(),Le&&Le.readyState===WebSocket.OPEN)switch(k){case"1":Le.send("play-idle-sound"),Pe(Pn);break;case"2":Le.send("play-puppyeyes-sound"),Pe(Rn);break;case"3":Le.send("play-intensestare-sound"),Pe(Fn);break;case"4":Le.send("play-happy-sound"),Pe(Tn);break;case"5":Le.send("play-panting-sound"),Pe(Ln);break;case"6":Le.send("play-sigh-sound"),Pe(On);break;case"7":Le.send("play-barking-sound"),Pe(kn);break;case"8":Le.send("play-woofing-sound"),Pe(Sn);break;case"9":Le.send("play-bumping-sound"),Pe(jn);break;case"0":Le.send("play-gazetotheright-sound"),Pe(xn);break;case"":Le.send("play-gazetotheleft-sound"),Pe(Dn);break;case"i":Le.send("stop-all-audio"),Wn();break}}});document.addEventListener("DOMContentLoaded",ei);const Bn=()=>{document.fullscreenElement?Notification.requestPermission().then(N=>{N==="granted"&&(Notification.prototype._originalShow=Notification.prototype.show,Notification.prototype.show=function(){})}):Notification.prototype._originalShow&&(Notification.prototype.show=Notification.prototype._originalShow,delete Notification.prototype._originalShow)};document.addEventListener("fullscreenchange",Bn);document.addEventListener("webkitfullscreenchange",Bn);document.addEventListener("mozfullscreenchange",Bn);document.addEventListener("msfullscreenchange",Bn);let St=!1;const Nt=document.getElementById("keyPressed"),Ut={w:"FORWARD",arrowup:"FORWARD",s:"BACKWARD",arrowdown:"BACKWARD",a:"ROTATE_COUNTERCLOCKWISE",arrowleft:"ROTATE_COUNTERCLOCKWISE",d:"ROTATE_CLOCKWISE",arrowright:"ROTATE_CLOCKWISE",t:"SERVO_SPEED1",z:"SERVO_SPEED2",u:"SERVO_SPEED3"};let Cn={t:!1,z:!1,u:!1};async function In(N){try{if(!(await fetch("/control",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({command:N})})).ok)throw new Error("Network response was not ok");console.log(`Command ${N} sent successfully`)}catch(k){console.error("Error:",k)}}document.addEventListener("keydown",async N=>{const k=N.key.toLowerCase();if(k===" "){N.preventDefault(),St=!St;const A=document.getElementById("status");A.textContent=`Status: ${St?"Active":"Ready"}`,A.className=St?"active":"inactive",await In(St?"ENABLE":"DISABLE");return}if(["t","z","u"].includes(k)){Cn[k]=!Cn[k],await In(Cn[k]?Ut[k]:"SERVO_STOP"),Nt.textContent=`Tail: ${Cn[k]?Ut[k]:"STOPPED"}`,Nt.classList.add("active");return}St&&Ut[k]&&(await In(Ut[k]),Nt.textContent=`Moving: ${Ut[k]}`,Nt.classList.add("active"))});document.addEventListener("keyup",async N=>{const k=N.key.toLowerCase();St&&Ut[k]&&!["t","z","u"].includes(k)&&(await In("STOP"),Nt.textContent="No key pressed",Nt.classList.remove("active"))});const xi=document.getElementById("networkInfoButton"),on=document.getElementById("networkInfoOverlay"),Di=document.getElementById("closeNetworkInfo"),lr=document.getElementById("networkInfoContent");xi.addEventListener("click",async()=>{on.style.display="block",await Wi()});Di.addEventListener("click",()=>{on.style.display="none"});on.addEventListener("click",N=>{N.target===on&&(on.style.display="none")});async function Wi(){try{lr.textContent="Loading network information...";const N=await fetch("/network-info");if(!N.ok)throw new Error(`HTTP error! status: ${N.status}`);const k=await N.json();let A="";A+=`
`,A+=` TABLET INFORMATION
`,A+=`
`,A+=`Hostname:    ${k.tablet.hostname}
`,A+=`IP Address:  ${k.tablet.ip}
`,A+=`Platform:    ${k.tablet.platform}
`,A+=`Uptime:      ${Bi(k.tablet.uptime)}
`,A+=`
`,k.tablet.interfaces&&k.tablet.interfaces.length>0&&(A+=`
`,A+=` NETWORK INTERFACES
`,A+=`
`,k.tablet.interfaces.forEach(j=>{A+=`
Interface:   ${j.name}
`,A+=`Type:        ${j.family}
`,A+=`IP Address:  ${j.address}
`,A+=`MAC Address: ${j.mac}
`,A+=`Internal:    ${j.internal?"Yes":"No"}
`}),A+=`
`),k.connectedDevices&&k.connectedDevices.length>0?(A+=`
`,A+=` CONNECTED DEVICES
`,A+=`
`,k.connectedDevices.forEach((j,X)=>{A+=`
Device #${X+1}
`,A+=`IP Address:  ${j.ip}
`,j.hostname&&(A+=`Hostname:    ${j.hostname}
`),j.mac&&(A+=`MAC Address: ${j.mac}
`)}),A+=`
`):(A+=`
`,A+=` CONNECTED DEVICES
`,A+=`
`,A+=`
Note: Connected device detection requires root access
`,A+=`on Android/Termux. Only basic network info is available.

`),k.websocketClients!==void 0&&(A+=`
`,A+=` ACTIVE WEBSOCKET CONNECTIONS
`,A+=`
`,A+=`Connected Clients: ${k.websocketClients}

`),k.config&&(A+=`
`,A+=`  CONFIGURED DEVICES
`,A+=`
`,k.config.valetudoHost&&(A+=`Valetudo Robot: ${k.config.valetudoHost}
`),k.config.arduinoHost&&(A+=`Arduino Servo:  ${k.config.arduinoHost}
`),A+=`
`),A+=`
`,A+=`Last Updated: ${new Date().toLocaleString()}
`,A+=`
`,lr.textContent=A}catch(N){console.error("Error loading network info:",N),lr.textContent=`Error loading network information:
${N.message}

Please check the server logs for details.`}}function Bi(N){const k=Math.floor(N/86400),A=Math.floor(N%86400/3600),j=Math.floor(N%3600/60),X=Math.floor(N%60);let we=[];return k>0&&we.push(`${k}d`),A>0&&we.push(`${A}h`),j>0&&we.push(`${j}m`),(X>0||we.length===0)&&we.push(`${X}s`),we.join(" ")}
